{"version":3,"sources":["node_modules/browser-pack/_prelude.js","scripts/main.js","scripts/ajax-save-form.js","scripts/ajax-delete-it.js","scripts/modal-carousel.js","scripts/edit-this.js","scripts/col-collapse.js","scripts/progress-report.js","scripts/move-this.js","scripts/score-this.js","scripts/slideout-tool.js","scripts/spinner.js","scripts/toggle-that.js","scripts/jquery-ui-widget-extensions.js","scripts/jquery-ui-widget.js","scripts/util.js"],"names":["require","$","window","document","undefined","widgetClass","selectors","buildNamesMap","widget","options","action","saveForm","savedIt","_configureControls","this","form","element","spinner","disable_on_spin","attr","_configureEventHandlers","self","submit","event","preventDefault","_saveForm","client_ajax_success","ajax_success","extend","xhr","json","_trigger","json_response","_create","_ajaxConfig","_getDataOptions","_destroy","off","form_data","find","serialize","_ajaxSubmitForm","ajax_save_form","jQuery","url","method","confirmation_message","deleteIt","deletedIt","control","click","_deleteIt","hide","_confirmDelete","confirm","_ajaxDelete","it","ajax_delete_it","markup","dialog","class","content","header","dismiss","type","data-dismiss","text","title","body","carousel","inner","controlLeft","data-slide","iconLeft","controlRight","iconRight","footer","close","items","carouselOptions","interval","loadContent","contentLoaded","_template","modal_id","carousel_id","carousel_selector","carousel_inner","apply","_loadItems","append","modal_title","_getTitleText","modal_dialog","target","add","_loadAjaxItems","_activateItems","_removeItems","remove","_addSpinner","load","ajax_items","html","_removeSpinner","active","filter","length","removeClass","first","addClass","on","button","relatedTarget","data","modal_carousel","classes","edit_icon","icon","aria-hidden","icon_class","icon_title","showForm","hideForm","_updateContent","value","form_control","is","val","form_id","bind","controls","console","assert","_contains","closest","focus","show","isFormVisible","toggleForm","edit_this","expand_icon","expand","el","collapsed","collapse","toggleCollapsed","toggleClass","isCollapsed","hasClass","control_title","control_all_title","control_all_labels","true","false","expanded","col_controls","global_controls","controlAll","clone","prepend","col","global","_configureTargets","table","each","idx","colNumber","parent","children","index","rows","targets","toggleTargets","expandAll","expandTargets","collapseTargets","controlLabel","col_collapse","panel","input","name","required","min","max","lower_bound","upper_bound","progress","progress_bar","range_input","Math","css","position","top","left","blur","after","log","progress_report","move_this","score_type","score_id","show_total","checked_value","na_value","score","total","formatUnicorn","_getScoreCard","scoreCardSelector","scoreCard","change","reComputeScore","scoreIt","sum","Number","applicable","count","checked","score_this","toolbar_selector","toolbar","id","data-ordinal","label","rotate","ordinal","container","clicked","label_text","icon_icon","label_element","_getToolbar","_addToToolbar","added","insertBefore","_activate_spinner","orig_spinner","destination","hidden","shown","_triggerNativeEvent","trigger","tool","slideout_tool","spin_text","prop","_getDisableTargets","isForm","addBack","original_title","relative_pos","disable_targets","disabled","op","toggle","init_toggle","toggled","toggle_that","ajax_error_template","WidgetExtensionsMixin","data_opts","opts","Object","keys","forEach","key","ajax_event_options","ajax_beforeSend","ajax_error","ajax_complete","settings","args","create","extra_data","_ajaxRequest","ajax_events","beforeSend","success","textStatus","message","errors","error","errorThrown","status","responseText","complete","ajax","assign","Widget","prototype","factory","define","amd","ui","widgetUuid","version","widgetSlice","Array","slice","cleanData","orig","elems","events","elem","i","_data","triggerHandler","e","base","existingConstructor","constructor","basePrototype","proxiedPrototype","namespace","split","fullName","isArray","concat","expr","toLowerCase","_createWidget","arguments","_proto","_childConstructors","isFunction","_super","_superApply","returnValue","__super","__superApply","widgetEventPrefix","widgetName","widgetFullName","child","childPrototype","push","bridge","call","inputIndex","inputLength","hasOwnProperty","isPlainObject","object","fn","isMethodCall","methodValue","instance","charAt","jquery","pushStack","get","option","_init","defaultElement","uuid","eventNamespace","bindings","hoverable","focusable","classesElementLookup","_on","destroy","style","ownerDocument","defaultView","parentWindow","_getCreateOptions","_setOptionDisabled","_getCreateEventData","noop","that","_removeClass","removeData","removeAttr","parts","curOption","shift","pop","_setOptions","_setOption","_setOptionClasses","classKey","elements","currentElements","_classes","_toggleClass","enable","disable","processClassString","checkOption","current","unique","not","full","match","extra","join","_untrackClassesElement","inArray","_addClass","suppressDisabledCheck","handlers","delegateElement","handler","handlerProxy","guid","eventName","selector","_off","_delay","delay","setTimeout","_hoverable","mouseenter","currentTarget","mouseleave","_focusable","focusin","focusout","callback","Event","originalEvent","isDefaultPrevented","defaultEffect","effect","hasOptions","effectName","duration","isEmptyObject","effects","easing","queue","next","getOffsets","offsets","width","height","parseFloat","rpercent","test","parseCss","property","parseInt","getDimensions","raw","nodeType","offset","isWindow","scrollTop","scrollLeft","pageY","pageX","outerWidth","outerHeight","cachedScrollbarWidth","abs","rhorizontal","rvertical","roffset","rposition","_position","scrollbarWidth","w1","w2","div","innerDiv","offsetWidth","clientWidth","getScrollInfo","within","overflowX","isDocument","overflowY","hasOverflowX","scrollWidth","scrollHeight","getWithinInfo","withinElement","of","atOffset","targetWidth","targetHeight","targetOffset","basePosition","dimensions","scrollInfo","collision","at","horizontalOffset","verticalOffset","pos","exec","collisionPosition","using","elemWidth","elemHeight","marginLeft","marginTop","collisionWidth","collisionHeight","myOffset","my","dir","props","right","bottom","feedback","horizontal","vertical","important","fit","newOverRight","withinOffset","collisionPosLeft","overLeft","overRight","newOverBottom","collisionPosTop","overTop","overBottom","flip","newOverLeft","offsetLeft","newOverTop","offsetTop","flipfit","String","str","toString","t","replace","RegExp","asTemplate","template","extentions","pre","sep","build","obj","map","reduce"],"mappings":"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","file":"bundle.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","/**\n * Bootstrap Extras (v0.1): main.js\n *   -- Collate all component scripts via Broswerify https://www.npmjs.com/package/browserify\n *\n *   External Dependencies:  Bootstrap 3 + JQuery 2+\n *   MIT Open-source License (https://github.com/powderflask/bootstrap_extras/blob/master/LICENSE)\n */\n\nrequire('./ajax-delete-it');\nrequire('./ajax-save-form');\nrequire('./col-collapse');\nrequire('./edit-this');\nrequire('./move-this');\nrequire('./modal-carousel');\nrequire('./progress-report');\nrequire('./score-this');\nrequire('./slideout-tool');\nrequire('./spinner');\nrequire('./toggle-that');\n","/**\n * AJAX Save This Component (v0.1): ajax-save-form.js\n *   -- simple form sumbit via ajax.\n *\n *   Dependencies:  Bootstrap + JQuery + spinner\n *   MIT Open-source License (https://github.com/powderflask/bootstrap_extras/blob/master/LICENSE)\n */\nrequire( './spinner');\nrequire( './jquery-ui-widget');\nrequire( './jquery-ui-widget-extensions');\nrequire( './util' );\n\n;(function( $, window, document, undefined ) {\n\n    var widgetName = 'bse.ajax_save_form',\n        widgetClass = 'bse-ajax-save-form',\n        selectors = widgetClass.buildNamesMap([], '.');\n\n    $.widget( widgetName, {\n\n        // Options to be used as defaults\n        options: {\n            action: false,\n\n            // event callbacks (ajax event callbacks also trigger)\n            saveForm: null,   // called just before save request made - return false to prevent default action\n            savedIt: null     // called after successful save request has completed.\n        },\n\n        // Configure the widget controls (edit icon and form elements)\n        _configureControls : function() {\n            this.form = this.element;\n            this.form.spinner( { disable_on_spin: true } );\n            this.spinner = this.form.spinner('instance');\n            this.options.action = this.options.action || this.form.attr('action');\n        },\n\n        // Events handled by this widget\n        _configureEventHandlers : function() {\n            var self = this;\n\n            this.element.submit( function (event) {\n                event.preventDefault();\n                self._saveForm(event);\n            });\n\n            // Configure default success behaviour, but respect client's custom success callback.\n            var client_ajax_success = this.options.ajax_success,\n                client_options = $.extend(true, {}, this.options);  // clone original options\n            this.options.ajax_success = function(xhr, json) {\n                if (client_ajax_success)\n                    client_ajax_success(xhr, json);\n                self._trigger('savedIt', null, {\n                    'element': self.element,\n                    'json_response': json\n                });\n            };\n        },\n\n        // Initialize widget instance (e.g. element creation, apply theming, bind events etc.)\n        _create: function () {\n            // console.log(\"Create \", widgetName, \" instance for\", this.element);\n            this._ajaxConfig();\n            this._getDataOptions();\n            this._configureControls();\n            this._configureEventHandlers();\n        },\n\n        // Destroy plugin instance  and clean up modifications the widget has made to the DOM\n        _destroy: function () {\n            // console.log(\"Destroy: \", this.element);\n            this.element.off('submit');\n            // TO DO: put form back from whence it came?\n        },\n\n        _saveForm: function ( event ) {\n            // allow user to augment or override default save logic - 'form' may not be an actual HTML form\n            var go = this._trigger( 'saveForm', event, { form_data: this.form.find(':input').serialize() });\n            if ( go && this.options.action ) {\n                this._ajaxSubmitForm(this.form, this.options);\n            }\n        }\n    });\n\n    $(selectors[widgetClass]).ajax_save_form();\n\n})( jQuery, window, document );\n\n","/**\n * AJAX Delete It Component (v0.1): ajax-delete-it.js\n *   -- simple delete request via ajax.\n *\n *   Dependencies:  Bootstrap + JQuery + spinner\n *   MIT Open-source License (https://github.com/powderflask/bootstrap_extras/blob/master/LICENSE)\n */\nrequire( './spinner');\nrequire( './jquery-ui-widget');\nrequire( './jquery-ui-widget-extensions');\nrequire( './util' );\n\n;(function( $, window, document, undefined ) {\n\n    var widgetName = 'bse.ajax_delete_it',\n        widgetClass = 'bse-ajax-delete',\n        selectors = widgetClass.buildNamesMap(['it', 'control'], '.');\n\n    $.widget( widgetName, {\n\n        // Options to be used as defaults\n        options: {\n            url: false,      // required option, can be set with data-url attribute on element\n            method: 'DELETE',\n            confirmation_message: \"Confirm delete?  This action can NOT be undone.\",  // set to false to disable confirmation\n\n            // event callbacks (ajax event callbacks also trigger)\n            deleteIt: null,  // called just before delete request is made - return false to prevent default action\n            deletedIt: null  // called after successful delete request has completed.\n        },\n\n        // Configure the widget control and target\n        _configureControls : function() {\n            this.control = this.element.find(selectors.control);\n            this.options.url = this.options.url || this.control.attr('href');\n            this.control.spinner({ disable_on_spin: true } );\n            this.spinner = this.control.spinner('instance');\n        },\n\n        // Events handled by this widget\n        _configureEventHandlers : function() {\n            var self = this;\n\n            this.control.click( function (event) {\n                event.preventDefault();\n                self._deleteIt(event);\n            });\n\n            // Configure default success behaviour, but respect client's custom success callback.\n            var client_ajax_success = this.options.ajax_success,\n                client_options = $.extend(true, {}, this.options);  // clone original options\n            this.options.ajax_success = function(xhr, json) {\n                // hide the deleted element and signal deletion is complete.\n                self.element.hide();\n                if (client_ajax_success)\n                    client_ajax_success(xhr, json);\n                self._trigger('deletedIt', null, {\n                    'element': self.element,\n                    'json_response': json\n                });\n            };\n        },\n\n        // Initialize widget instance (e.g. element creation, apply theming, bind events etc.)\n        _create: function () {\n            // console.log(\"Create \", widgetName, \" instance for\", this.element);\n            this._ajaxConfig();\n            this._getDataOptions();\n            this._configureControls();\n            this._configureEventHandlers();\n        },\n\n        // Destroy plugin instance  and clean up modifications the widget has made to the DOM\n        _destroy: function () {\n            // console.log(\"Destroy: \", this.element);\n            this.control.off('click');\n        },\n\n        _confirmDelete: function ( event ) {\n            return !this.options.confirmation_message ||\n                   confirm(this.options.confirmation_message);\n        },\n\n        _deleteIt: function ( event ) {\n            if (this._confirmDelete()) {\n                // allow user to augment or override default save logic\n                var go = this._trigger( 'deleteIt', event );\n                if ( go && this.options.url ) {\n                    this._ajaxDelete(this.element, this.options);\n                }\n            }\n        }\n    });\n\n    $(selectors.it).ajax_delete_it();\n\n})( jQuery, window, document );\n\n","/**\n * Modal Carousel Component (v0.1): modal-carousel.js\n *   -- a Bootstrap Image Carousel within a Bootstrap Modal\n *   -- data source for Carousel can be inline, loaded from another element, or loaded via Ajax request\n *\n *   Dependencies:  Bootstrap + JQuery\n *   MIT Open-source License (https://github.com/powderflask/bootstrap_extras/blob/master/LICENSE)\n */\nrequire( './jquery-ui-widget');\nrequire( './jquery-ui-widget-extensions');\nrequire( './spinner.js' );\nrequire( './util' );\n\n;(function( $, window, document, undefined ) {\n\n    var widgetName = 'bse.modal_carousel',\n        widgetClass = 'bse-modal-carousel',\n        selectors = widgetClass.buildNamesMap([], '.'),\n\n        markup = {\n            dialog : ['<div>', {'class': 'modal-dialog'}],\n            content : ['<div>', {'class': 'modal-content'}],\n            header : ['<div>', {'class': 'modal-header'}],\n            dismiss : ['<button>', {'class': 'close', 'type':'button', 'data-dismiss': 'modal', text: '×'}],\n            title : ['<h3>', {'class': 'modal-title'}],\n            body : ['<div>', {'class': 'modal-body'}],\n            carousel : ['<div>', {'class': 'carousel'}],\n            inner : ['<div>', {'class': 'carousel-inner'}],\n            controlLeft : ['<a>', {'class': 'carousel-control left', 'data-slide': 'prev'}],\n            iconLeft : ['<i>', {'class': 'glyphicon glyphicon-chevron-left'}],\n            controlRight : ['<a>', {'class': 'carousel-control right', 'data-slide': 'next'}],\n            iconRight : ['<i>', {'class': 'glyphicon glyphicon-chevron-right'}],\n            footer : ['<div>', {'class': 'modal-footer'}],\n            close : ['<button>', {'class': 'btn btn-default', 'data-dismiss': 'modal', text: 'Close'}],\n        };\n\n    $.widget( widgetName, {\n\n        // Options to be used as defaults\n        options: {\n            title: false,     // Override for modal title to use instead of title of active carousel img\n            items: '',        // optional, a selector for carousel items elsewhere in the DOM\n            url: false,       // optional, a url for carousel items loaded via Ajax\n            carouselOptions: {interval: false},  // prevent auto-slide by default\n\n            // event callbacks (ajax event callbacks also trigger)\n            loadContent: null,    // called just prior to loading content via Ajax - return false to prevent default action\n            contentLoaded: null   // called after loading content via Ajax - passes in loaded items\n        },\n\n        // Template node for the widget\n        _template : function(modal_id) {\n            var carousel_id = modal_id+'-carousel',\n                carousel_selector = '#'+carousel_id;\n            // The carousel and carousel items...\n            this.carousel_inner = $.apply(this, markup.inner);\n            this.items = this._loadItems(this.carousel_inner);\n            this.carousel = $.apply(this, markup.carousel).attr('id', carousel_id)\n                                .append(this.carousel_inner)\n                                .append($.apply(this, markup.controlLeft).attr('href',carousel_selector)\n                                    .append($.apply(this, markup.iconLeft))\n                                )\n                                .append($.apply(this, markup.controlRight).attr('href',carousel_selector)\n                                    .append($.apply(this, markup.iconRight))\n                                );\n            // ... loaded into a modal dialog ...\n            this.modal_title = $.apply(this, markup.title).text(this._getTitleText());\n            this.modal_dialog = $.apply(this, markup.dialog)\n                                    .append($.apply(this, markup.content)\n                                        .append($.apply(this, markup.header)\n                                            .append($.apply(this, markup.dismiss))\n                                            .append(this.modal_title)\n                                        )\n                                        .append($.apply(this, markup.body)\n                                            .append(this.carousel)\n                                        )\n                                        .append($.apply(this, markup.footer)\n                                            .append($.apply(this, markup.close))\n                                        )\n                                    );\n            this.carousel.carousel(this.options.carouselOptions);\n            return this.modal_dialog;\n        },\n\n        // Load carousel items to the target element and check exactly 1 item is active\n        _loadItems: function(target) {\n            // Carousel items may be inline in the element or added from elsewhere on the DOM...\n            var items = this.element.find('.item')\n                                     .add(this.options.items);\n            // ... or loaded via Ajax...\n            if (this.options.url) {\n                this._loadAjaxItems(target, this.options.url, items);\n            }\n            // Activate current set of items and move them to the target container.\n            this._activateItems(items);\n            target.append(items);\n            return items;\n        },\n\n        // Remove carousel items from this carousel.\n        _removeItems: function() {\n            this.element.find('.item').remove();\n            this.items = this.element.find('.item');\n        },\n\n        // Load carousel items via Ajax, adding any items loaded to the items object when they arrive\n        _loadAjaxItems: function(target, url, items) {\n            var spinner = this._addSpinner(target),\n                self = this;\n            if (this._trigger( 'loadContent', null, {target:target, url:url})) {\n                target.load(url, function () {\n                    // self._removeSpinner(spinner);  // spinner element is removed when Ajax content is loaded to target!\n                    var ajax_items = target.find('.item');\n                    items = items.add(ajax_items);\n                    self._activateItems(items);\n                    self.modal_title.html(self._getTitleText());\n                    self._trigger('contentLoaded', null, {items:items});\n                });\n            }\n        },\n\n        // Create a spinner item in the given target\n        _addSpinner: function(target) {\n            var spinner = $('<div>', {'class': 'item active'}).spinner();\n            spinner.spinner('show');\n            target.append(spinner);\n            return spinner;\n        },\n        // destroy the given spinner\n        _removeSpinner: function(spinner) {\n            spinner.spinner('destroy');\n        },\n\n        // Get the modal title text, which may be set by option or pulled from active img in carousel\n        _getTitleText: function() {\n            return this.options.title || this.carousel.find(\".item.active img\").attr(\"title\");\n        },\n\n        // Ensure exactly one item is active.\n        _activateItems: function(items) {\n            var active = items.filter('.active');\n            if (active.length>1) {\n                active.removeClass('active');\n                active.first().addClass('active');\n            }\n            else if (active.length < 1) {\n                items.first().addClass('active');\n            }\n        },\n\n        // Events handled by this widget\n        _configureEventHandlers : function() {\n            var self = this;\n            this.carousel.on(\"slid.bs.carousel\", function () {\n                self.modal_title.html(self._getTitleText());\n            });\n            this.element.on('show.bs.modal', function (event) {\n              var button = $(event.relatedTarget), // Button that triggered the modal\n                  url = button.data('url'); // If button supplies a URL, use it to load items...\n              if (url) {\n                  self._removeItems();\n                  self._loadAjaxItems(self.carousel_inner, url, self.items);\n              }\n            })\n        },\n\n        // Initialize widget instance (e.g. element creation, apply theming, bind events etc.)\n        _create: function () {\n            // console.log(\"Create \", widgetName, \" instance for\", this.element);\n            this._ajaxConfig();\n            this._getDataOptions();\n            this.element.addClass('modal fade').attr('role', 'dialog');\n            this.element.append(this._template(this.element.attr('id')));\n            this._configureEventHandlers();\n        },\n\n        // Destroy plugin instance  and clean up modifications the widget has made to the DOM\n        _destroy: function () {\n            //console.log(\"Destroy: \", this.modal);\n            // Does not appear to be a way to disable a BS modal once it's been enabled.\n            // this.element.append(this.items);\n            // this.element.removeClass('modal');\n            // this.modal_dialog.remove()\n        }\n    });\n\n    $(selectors[widgetClass]).modal_carousel();\n\n})( jQuery, window, document );\n","/**\n * Edit This Component (v0.1): edit-this.js\n *   -- toggle display value with edit form for the value\n *   -- optionally, AJAX save edited form.\n *\n *   Dependencies:  Bootstrap + JQuery\n *   MIT Open-source License (https://github.com/powderflask/bootstrap_extras/blob/master/LICENSE)\n */\nrequire( './jquery-ui-widget');\nrequire( './jquery-ui-widget-extensions');\nrequire( './util' );\n\n;(function( $, window, document, undefined ) {\n\n    var widgetName = 'bse.edit_this',\n        widgetClass = 'bse-edit-this',\n        classes = widgetClass.buildNamesMap(['icon', 'content', 'control']),\n        selectors = widgetClass.buildNamesMap(['content', 'control'], '.'),\n\n        markup = {\n            edit_icon: ['<span>', {'class': classes.icon, 'aria-hidden': 'true'}]\n         };\n\n    $.widget( widgetName, {\n\n        // Options to be used as defaults\n        options: {\n            action: false,\n            method: 'POST',\n            icon_class: 'glyphicon glyphicon-edit',\n            icon_title: 'Edit this',\n\n            // event callbacks (ajax event callbacks also trigger)\n            saveForm: null,   // called when range_input is changed, before saving - return false to prevent default action\n            showForm: null,   // called when form is shown\n            hideForm: null    // called when form is hidden\n        },\n\n        // Update the content area from the current form value.\n        _updateContent : function() {\n            // TODO: getting display value for any input type requires more logic... ** sigh **\n            var value = this.form_control.is('select')?\n                            this.form_control.find('option:selected').text():\n                            this.form_control.val();\n            this.content.html(value);\n            this.content.append(this.edit_icon);\n        },\n\n        // Configure the widget controls (edit icon and form elements)\n        _configureControls : function() {\n            this.content = this.element.find(selectors.content);\n            this.edit_icon = $.apply(this, markup.edit_icon)\n                              .addClass(this.options.icon_class)\n                              .attr('title', this.options.icon_title);\n            this.content.append(this.edit_icon);\n\n            // And the form...\n            var form_id = this.element.data('form_id');\n            this.form = $('#'+form_id);\n            // Configure optional Ajax save with callback to hide the form on successful requests.\n            this.form.ajax_save_form( $.extend(this.options, {ajax_success:this.hideForm.bind(this)}) );\n\n            // ... move form to edit-this panel ...\n            controls = this.form.find( selectors.control );\n            console.assert(controls.length === 1, \"BSE edit_this Error: a single control must be supplied\\\"\")\n            this.form_control = $(controls[0]);\n            this.element.append(this.form.hide());\n        },\n\n        // is the target element part of the widget element?\n        _contains : function(target) {\n            return target.closest(this.element).length > 0;\n        },\n\n        // Events handled by this widget\n        _configureEventHandlers : function() {\n            var self = this;\n\n            this.content.on('click', function (event) {\n                event.preventDefault();\n                self.showForm(event);\n                self.form_control.focus();\n            });\n            // hide form on clicks that are not within the element.\n            $('body').click(function(event) {\n                if (!self._contains($(event.target))) {\n                    self.hideForm(event);\n                }\n            });\n\n            this.form.on('change', function (event) {\n                event.preventDefault();\n                self._updateContent();\n                self.form.submit();\n                self.hideForm(event);\n            });\n        },\n\n        // Initialize widget instance (e.g. element creation, apply theming, bind events etc.)\n        _create: function () {\n            // console.log(\"Create \", widgetName, \" instance for\", this.element);\n            this._ajaxConfig();\n            this._getDataOptions();\n            this._configureControls();\n            this._configureEventHandlers();\n        },\n\n        // Destroy plugin instance  and clean up modifications the widget has made to the DOM\n        _destroy: function () {\n            // console.log(\"Destroy: \", this.element);\n            this.edit_icon.remove();\n            this.hideForm();\n            this.content.off('click');\n            // TO DO: put form back from whence it came?\n        },\n\n        // Public methods\n        showForm : function(event) {\n            this.content.hide();\n            this.form.show();\n            this._trigger( 'showForm', event);\n        },\n        hideForm : function(event) {\n            this.form.hide();\n            this.content.show();\n            this._trigger( 'hideForm', event);\n        },\n        isFormVisible: function() {\n            return this.form.is(\":visible\");\n        },\n        toggleForm : function(event) {\n            this.isFormVisible() ? this.showForm(event) : this.hideForm(event);\n        }\n    });\n\n    $(selectors[widgetClass]).edit_this();\n\n})( jQuery, window, document );\n\n","/**\n * Table Column Collapse (v0.1): col-collapse.js\n *   -- Collapse / Expand table columns by clicking on a cc-control.\n *   -- Demo: https://jsfiddle.net/powderflask/gd7ct85q/\n *   Use data-controls attribute on control to specify class of cc-target elements to collapse.\n *   Use data-controls='all' to control all cc-target elements\n *\n *   Dependencies:  Bootstrap + JQuery\n *   MIT Open-source License (https://github.com/powderflask/bootstrap_extras/blob/master/LICENSE)\n */\nrequire( './jquery-ui-widget');\nrequire( './jquery-ui-widget-extensions');\nrequire( './util' );\n\n;(function( $, window, document, undefined ) {\n\n    var widgetName = 'bse.col_collapse',\n        widgetClass = 'bse-col-collapse',\n        classes = widgetClass.buildNamesMap(['collapsed', 'icon']),\n        selectors = widgetClass.buildNamesMap(['collapsed', 'icon', 'add', 'controlAll', 'control', 'controlLabel'], '.'),\n\n        markup = {\n            expand_icon: ['<span>', {'class': classes.icon, 'aria-hidden': 'true'}],\n        };\n\n        // helpers\n        expand = function(el){\n            el.removeClass(classes.collapsed);\n        };\n        collapse = function(el){\n            el.addClass(classes.collapsed);\n        };\n        toggleCollapsed = function(el) {\n            el.toggleClass(classes.collapsed);\n        };\n        isCollapsed = function(el) {\n            return el.hasClass(classes.collapsed);\n        };\n\n    $.widget( widgetName, {\n\n        // Options to be used as defaults\n        options: {\n            control_title: 'Expand/Collapse Column',\n            control_all_title: 'Expand/Collapse All',\n            control_all_labels: {true: 'Expand All', false: 'Collapse All'},  // null or false to leave default\n            icon_class: 'glyphicon glyphicon-resize-full bse-rotate-45',\n\n            // event callbacks\n            collapsed: null,\n            expanded: null\n        },\n\n        // Configure and return the widget controls\n        _configureControls : function() {\n            var expand_icon = $.apply(this, markup.expand_icon).addClass(this.options.icon_class),\n                col_controls = this.element.find(selectors.control),\n                global_controls = this.element.find(selectors.controlAll);\n\n            col_controls.append(expand_icon.clone())\n                        .attr('title', this.options.control_title);\n            global_controls.prepend(expand_icon.clone())\n                           .attr('title', this.options.control_all_title);\n            collapse(global_controls);  // Assume initial state for global control is Expand All?\n            global_controls.data('controls', col_controls);\n            return {\n                col : col_controls,\n                global : global_controls\n            };\n        },\n\n        // Configure the collapse targets for each control -- i.e., td elements in the same column\n        _configureTargets : function(col_controls) {\n            var table = this.element.is('table')?this.element:this.element.find('table')[0]\n            table.addClass(widgetClass);\n            // For each control, get all targets from its table column ( http://jsfiddle.net/8XSLF/ )\n            $.each(col_controls, function(idx, val) {\n                var control = $(this),\n                    colNumber = control.parent(\"tr\").children().index(control),\n                    rows = table.find('> tbody > tr'),\n                    targets = rows.find('td:nth-child(' + (colNumber + 1) + ')').add(control);\n                if ( isCollapsed(control) ) {\n                    collapse(targets);\n                }\n                control.data('targets', targets);\n            });\n        },\n\n        // Events handled by this widget\n        _configureEventHandlers : function() {\n            var self = this;\n            this.controls.col.click( function(event) {\n                self.toggleTargets($(this), event);\n            });\n            this.controls.global.click( function(event) {\n                var control = $(this);\n                expandAll = isCollapsed(control);\n                $.each(self.controls.col, function() {\n                    expandAll ? self.expandTargets($(this), event):self.collapseTargets($(this), event);\n                });\n\n                // optionally, change control's label\n                toggleCollapsed(control);\n                if (self.options.control_all_labels) {\n                    var label = control.find(selectors.controlLabel);\n                    label.html(self.options.control_all_labels[isCollapsed(control)]);\n                }\n\n            });\n        },\n\n        // Initialize widget instance (e.g. element creation, apply theming, bind events etc.)\n        _create: function () {\n            // console.log('Create ', widgetName, 'instance for', this.element);\n            this._getDataOptions(); // if widget recognizes data-* options in markup\n            this.controls = this._configureControls();\n            this._configureTargets(this.controls.col);\n            this._configureEventHandlers();\n        },\n\n        // Destroy plugin instance  and clean up modifications the widget has made to the DOM\n        _destroy: function () {\n            // console.log('Destroy:', this);\n            $(selectors.collapsed).removeClass(classes.collapsed);\n            $(selectors.icon).remove();\n            this.controls.col.attr('title', '').off('click');\n            this.controls.global.attr('title', '').off('click');\n            this.controls.col.data('targets', null);\n            this.controls.global.data('controls', null);\n        },\n\n        // Public methods\n        expandTargets : function(control, event) {\n            var targets = control.data('targets');\n            expand(targets);\n            this._trigger( 'expanded', event, { control:control, targets:targets });\n        },\n        collapseTargets : function(control, event) {\n            var targets = control.data('targets');\n            collapse(targets);\n            this._trigger( 'collapsed', event, { control:control, targets:targets });\n        },\n        toggleTargets : function(control, event) {\n            isCollapsed(control) ? this.expandTargets(control, event) : this.collapseTargets(control, event);\n        }\n    });\n\n    $(selectors.add).col_collapse();\n\n})( jQuery, window, document );","/**\n * Progress Report Component (v0.1): progress-report.js\n *   -- a Bootstrap Progress Bar with an interactive range input\n *   -- AJAX save selected value using standard HMTL form.\n *\n *   Dependencies:  Bootstrap + JQuery + spinner\n *   MIT Open-source License (https://github.com/powderflask/bootstrap_extras/blob/master/LICENSE)\n */\nrequire( './jquery-ui-widget');\nrequire( './jquery-ui-widget-extensions');\nrequire('./ajax-save-form');\nrequire( './spinner');\nrequire( './util' );\n\n;(function( $, window, document, undefined ) {\n\n    var widgetName = 'bse.progress_report',\n        widgetClass = 'bse-progress-report',\n        classes = widgetClass.buildNamesMap(['panel', 'form', 'value']),\n        selectors = widgetClass.buildNamesMap([], '.'),\n\n        markup = {\n            panel : ['<div>', {'class': classes.panel}],\n            form : ['<form>', {'class': classes.form}],\n            input : ['<input>', {type:'range', 'class': widgetClass, name:classes.value, required:''}]\n        };\n\n    $.widget( widgetName, {\n\n        // Options to be used as defaults\n        options: {\n            min: 0,             // absolute min for progress bar (empty value)\n            max: 100,           // absolute max for progress bar (right-hand value)\n            lower_bound: 0,     // smallest valid progress value (min <= lower_bound <= upper_bound)\n            upper_bound: 100,   // largest valid progress value (lower_bound <= upper_bound <= max)\n            action: false,\n            method: 'POST',\n\n            // event callbacks (ajax event callbacks also trigger)\n            saveForm: null   // called when range_input is changed, before saving - return false to prevent default action\n        },\n\n        // Template node for the widget\n        _template : function() {\n            this.progress = this.element.clone();\n            this.progress_bar = this.progress.find('.progress-bar');\n            this.value = this.progress_bar.attr('aria-valuenow');\n            this.range_input = $.apply(this, markup.input);  // $(...markup.input)\n            this.form = $.apply(this, markup.form).append(this.range_input);\n            this.panel = $.apply(this, markup.panel).append(this.progress).append(this.form);\n\n            // Configure optional Ajax save with callback to hide form on successful requests.\n            this.form.ajax_save_form( $.extend(this.options, {ajax_success:this.form.hide.bind(this.form)}) );\n            this.range_input.attr('min', this.options.min).attr('max', this.options.max);\n            this.range_input.val(this.value);\n\n            return this.panel;\n        },\n\n        // Events handled by this widget\n        _configureEventHandlers : function() {\n            var self = this,\n                spinner = self.form.spinner('instance');  // ouch - tight coupling to ajax-save here.\n\n            this.range_input.on('input', function(event) {\n                // constrain value between lower and upper bound\n                self.value = Math.max(self.range_input.val() || self.options.min, self.options.lower_bound);\n                self.value = Math.min(self.value, self.options.upper_bound);\n                self.progress_bar.text(self.value + '% Complete');\n                self.progress_bar.css( 'width', self.value+'%');\n                spinner.position( {top: '-1em', left:(self.value-1)+'%'} );\n            });\n\n            this.progress.on('click', function (event) {\n                event.preventDefault();\n                self.form.show();\n                self.range_input.focus();\n                self.range_input.blur(function (event) {\n                   self.form.hide();\n                });\n            });\n\n            this.form.on('change', function (event) {\n                event.preventDefault();\n                self.form.submit();\n                self.form.hide();\n            });\n        },\n\n        // Initialize widget instance (e.g. element creation, apply theming, bind events etc.)\n        _create: function () {\n            // console.log(\"Create \", widgetName, \" instance for\", this.element);\n            this._ajaxConfig();\n            this._getDataOptions();\n            this.element.after(this._template());\n            this.element.hide();\n            this._configureEventHandlers();\n        },\n\n        // Destroy plugin instance  and clean up modifications the widget has made to the DOM\n        _destroy: function () {\n            console.log(\"Destroy: \", this.panel);\n            this.panel.remove();\n            this.element.show();\n        }\n    });\n\n    $(selectors[widgetClass]).progress_report();\n\n})( jQuery, window, document );\n\n","/**\n * Move To Component (v0.1): move-this.js\n *   -- toggle display value with edit form for the value\n *   -- optionally, AJAX save edited form.\n *\n *   Dependencies:  Bootstrap + JQuery\n *   MIT Open-source License (https://github.com/powderflask/bootstrap_extras/blob/master/LICENSE)\n */\n\nrequire( './jquery-ui-widget');\nrequire( './jquery-ui-widget-extensions');\n\n;(function( $, window, document, undefined ) {\n\n    var widgetName = 'bse.move_this',\n        widgetClass = 'bse-move-this',\n        selectors = widgetClass.buildNamesMap([], '.');\n\n    $.widget( widgetName, {\n        // Options to be used as defaults\n        options: {\n            target: null  // selector for move target, may also be supplied via markup data- attribute\n        },\n\n        // Initialize widget instance (e.g. element creation, apply theming, bind events etc.)\n        _create: function () {\n            // console.log('Create ', widgetName, 'instance for', this.element);\n            this._getDataOptions(); // if widget recognizes data-* options in markup\n\n            console.assert(this.options.target, \"BSE move_this Error: a target selector must be supplied\");\n            $(this.options.target).append(this.element);\n        }\n    });\n\n    $(selectors[widgetClass]).move_this();\n\n})( jQuery, window, document );","/*!\n * Score This Component (v0.1): score-this.js\n *  - compute a dynamic 'score' for a set of form fields\n *\n *   Dependencies:  JQuery\n *   MIT Open-source License (https://github.com/powderflask/bootstrap_extras/blob/master/LICENSE)\n */\nrequire( './jquery-ui-widget');\nrequire( './jquery-ui-widget-extensions');\nrequire( './util');\n\n;(function( $, window, document, undefined ) {\n\n    var widgetName = 'bse.score_this',\n        widgetClass = 'bse-score-this',\n        classes = widgetClass.buildNamesMap(['className']),\n        selectors = widgetClass.buildNamesMap(['sum', 'count'], '.'),\n\n        markup = {\n            true: '{score}/{total}',\n            false: '{score}'\n        };\n\n    $.widget( widgetName, {\n\n        // Options to be used as defaults\n        options: {\n            score_type: 'sum',  // or 'count'\n            score_id : 'item',\n            show_total: true,\n            checked_value: 'Yes',\n            na_value: 'Not Applicable'\n        },\n\n        // Template node for the widget\n        _template : function(score, total) {\n            return markup[this.options.show_total].formatUnicorn({score:score,total:total});\n        },\n\n        // Get the input elements that are being scored\n        _getScoreCard: function() {\n            var scoreCardSelector = selectors[widgetClass] + '-' + this.options.score_id;\n            return $(scoreCardSelector + ':input');\n        },\n\n        // Events handled by this widget\n        _configureEventHandlers : function(scoreCard) {\n            // console.log('Configure Event Handlers for:', scoreCard);\n            scoreCard.change(this.reComputeScore.bind(this));\n        },\n\n        // Initialize widget instance (e.g. element creation, apply theming, bind events etc.)\n        _create: function () {\n            // console.log('Create ', widgetName, 'instance for', this.element);\n            this._getDataOptions(); // if widget recognizes data-* options in markup\n            this.scoreCard = this._getScoreCard(); //\n            this._configureEventHandlers(this.scoreCard);\n            this.reComputeScore();\n        },\n\n        // Compute the score from the scoreCard\n        reComputeScore: function() {\n            var self=this;\n            score = 0;\n            total = 0;\n            var scoreIt = {\n                'sum' : function() {\n                    score += Number(this.value) || 0;\n                    var applicable = (this.value !== self.options.na_value);\n                    total += applicable ? Number(this.max) || 0 : 0;\n                },\n                'count' : function() {\n                    // This is SO specific to my use-case - be nice to generalize it a bit...\n                    var checked = (this.value === self.options.checked_value);\n                    var applicable = (this.value != self.options.na_value);\n                    score += checked ? 1 : 0;\n                    total += applicable ? 1 : 0;\n                }\n            };\n            this.scoreCard.each(scoreIt[this.options.score_type]);\n            this.element.html(this._template(score, total))\n        }\n     });\n\n     $(selectors['sum']).score_this({score_type:'sum'});\n     $(selectors['count']).score_this({score_type:'count'});\n\n})( jQuery, window, document );","/**\n * Slideout Tools Component (v0.1): slideout-tool.js\n *   -- adds control to a fixed toolbar menu with slideout buttons\n *\n *   Dependencies:  Bootstrap + JQuery + spinner\n *   MIT Open-source License (https://github.com/powderflask/bootstrap_extras/blob/master/LICENSE)\n */\nrequire( './jquery-ui-widget');\nrequire( './jquery-ui-widget-extensions');\nrequire( './spinner');\nrequire( './util' );\n\n;(function( $, window, document, undefined ) {\n\n    var widgetName = 'bse.slideout_tool',\n        widgetClass = 'bse-slideout',\n        classes = widgetClass.buildNamesMap(['toolbar', 'button', 'icon', 'label']),\n        selectors = widgetClass.buildNamesMap(['tool', 'button'], '.'),\n        toolbar_selector = '#' + classes.toolbar,\n\n        markup = {\n            toolbar: ['<div>', {'id': classes.toolbar}],\n            button: ['<div>', {'class': classes.button, 'data-ordinal': \"0\"}],\n            icon: ['<div>', {'class': classes.icon}],\n            label: ['<div>', {'class': classes.label}],\n            rotate: ['<div>', {'class': 'bse-rotate-90'}]\n        };\n\n    $.widget( widgetName, {\n\n        // Options to be used as defaults\n        options: {\n            ordinal: 0,       // any values can be used to control ordering of buttons in toolbar, top-to-bottom\n            hide: true,       // hide this.element after moving its functionality to the toolbar\n            action: 'click',  // event to trigger on this.element when toolbar button is pressed\n            container: 'body', // selector for container where the toolbar will be appended\n            // event callbacks\n            clicked: null     // callback made when this.element clicked, return false to prevent default behaviour\n        },\n\n        // Template node for the widget\n        _template : function() {\n            var label_text = this.element.find('span').html(),\n                icon_icon = this.element.find('i').clone(),\n                label = $.apply(this, markup.label)\n                            .append($.apply(this, markup.rotate).html(label_text)),\n                icon = $.apply(this, markup.icon)\n                            .append(icon_icon),\n                button = $.apply(this, markup.button)\n                            .append(icon)\n                            .append(label);\n            button.label = label;\n            button.label_element = label.find('div');\n            button.data('ordinal', this.options.ordinal);  // set the ordinal in the DOM so it's easy to retrieve later\n            button.attr('title', this.element.attr('title')); // copy over the button title\n            this.options.hide ? this.element.hide():null;\n            return button;\n        },\n\n        // Get the slideout toolbar, creating if neccessary (singleton pattern)\n        _getToolbar: function() {\n            var toolbar = $(toolbar_selector);\n            if (toolbar.length === 0) {\n                toolbar = $.apply(this, markup.toolbar);\n                $(this.options.container).append(toolbar);\n            }\n            return toolbar;\n        },\n\n        // Add a button representing this.element's function to the toolbar\n        _addToToolbar: function(button) {\n            var toolbar = this._getToolbar(),\n                added = false,\n                self = this;\n            // Attempt to insert in ordinal order\n            toolbar.find(selectors.button).each(function(){\n                if (self.options.ordinal < $(this).data('ordinal')) {\n                    button.insertBefore($(this));\n                    added = true;\n                    return false;\n                }\n            });\n            // Fallback - append button to end of toolbar.\n            !added ? toolbar.append(button):null;\n        },\n\n        // if the element has a spinner configured, mirror it on the slideout\n        _activate_spinner: function() {\n            var orig_spinner = this.element.spinner('instance'),\n                destination = this.button.label;\n            if (orig_spinner) {\n                destination.spinner(orig_spinner.options);\n                orig_spinner.options.hidden = function (event) {\n                    destination.spinner('hide');\n                };\n                orig_spinner.options.shown = function (event) {\n                    destination.spinner('show');\n                }\n            }\n        },\n\n        // trigger the action on this.element corresponding to a click on the slideout tool\n        _triggerNativeEvent: function(event) {\n            // can't use trigger to mimic native browser events: http://learn.jquery.com/events/triggering-event-handlers/\n            // instead, use the native click() on the native JS a element.\n            // NOTE: same issue will apply to form submit and other native JS events ** sigh **\n            if (this.element.is('a') && this.options.action === 'click')\n                this.element[0].click();\n            else\n                this.element.trigger(this.options.action);\n        },\n\n        // Events handled by this widget\n        _configureEventHandlers : function() {\n            var self = this;\n            this.button.click( function(event) {\n                self._trigger( 'clicked', event ) ? self._triggerNativeEvent(event):null;\n            });\n        },\n\n        // Initialize widget instance (e.g. element creation, apply theming, bind events etc.)\n        _create: function () {\n            // console.log('Create ', widgetName, 'instance for', this.element);\n            this._getDataOptions(); // if widget recognizes data-* options in markup\n            this.button = this._template();\n            this._addToToolbar(this.button);\n            this._configureEventHandlers();\n            this._activate_spinner();\n        },\n\n        // Destroy plugin instance  and clean up modifications the widget has made to the DOM\n        _destroy: function () {\n            // console.log('Destroy:', this);\n            this.button.remove();\n            this.element.show();\n        },\n\n        // Retreive or set the button label\n        label: function(label_text) {\n            if (label_text){\n                this.button.label_element.html(label_text);\n            }\n            else {\n                return this.button.label_element.html();\n            }\n        }\n    });\n\n    $(selectors.tool).slideout_tool();\n\n})( jQuery, window, document );","/**\n * AJAX Loading Spinner (v0.1): spinner.js\n *   -- a JQuery plugin spinner to signal asyn request in-progress\n *   -- show / hide spinner can optionally control enable/disable widget's element\n *\n *   Dependencies:  Bootstrap + JQuery\n *   MIT Open-source License (https://github.com/powderflask/bootstrap_extras/blob/master/LICENSE)\n */\n\nrequire( './jquery-ui-widget');\nrequire( './jquery-ui-widget-extensions');\n\n;(function( $, window, document, undefined ) {\n\n    var widgetName = 'bse.spinner',\n        widgetClass = 'bse-spinner',\n        selectors = {\n            'append' : '.'+widgetClass+'-append'\n        },\n        markup = {\n            spinner: ['<span>', {'class': widgetClass}]\n        };\n\n    $.widget( widgetName, {\n\n        // Options to be used as defaults\n        options: {\n            spin_text: 'Saving...',  // title and accessibility text for spinner\n            disable_on_spin: false,  // set to true to disable all :inputs in the parent element when spinner shows\n\n            // event callbacks\n            hidden: null,   // triggers when spinner is hidden\n            shown: null     // triggers when spinner is shown\n        },\n\n        // Template node for the widget\n        _template : function() {\n            return $.apply(this, markup.spinner).hide().\n                     html(this.options.spin_text).\n                     prop('title', this.options.spin_text);\n        },\n\n        _getDisableTargets : function() {\n            if (!this.options.disable_on_spin)\n                return $();\n\n            // If the spinner element is a form or a submit button on a form...\n            var isForm = this.element.is('form, :submit'),\n                form = this.element.closest('form');\n            if (isForm && form.length > 0)\n                return form.find(':input');   //  ...disable all inputs on the form.\n            // Not a form, so disable the element and any inputs contained within it.\n            return this.element.find(':input').addBack();\n        },\n\n        // Initialize widget instance (e.g. element creation, apply theming, bind events etc.)\n        _create: function () {\n            // console.log('Appending', widgetName, 'instance to', this.element, ':');\n            this._getDataOptions();\n            this.spinner = this._template();\n            // console.log(this.spinner);\n            this.element.append(this.spinner);\n            this.original_title = this.element.attr('title') || \"\";\n            this.targets = this._getDisableTargets();\n        },\n\n        // Destroy plugin instance  and clean up modifications the widget has made to the DOM\n        _destroy: function () {\n            // console.log('Destroy:', this);\n            this.spinner.remove();\n        },\n\n        // Position the spinner from its relative location\n        position: function(relative_pos) {\n            this.spinner.css(relative_pos);\n        },\n\n        // Disable spinner 'targets' -- form elements and anchors related to the spinner element\n        disable_targets: function(disabled) {\n            disabled = disabled || false;   // default is to disable the targets -- pass true to enable them.\n            // Simply add or remove the disabled class - ain't bootstrap awesome!\n            var op = disabled ? 'addClass' : 'removeClass';\n            this.targets[op]('disabled');\n            // ... and disable/enable any form inputs related to the spinner element\n            this.targets.prop('disabled', disabled);\n\n        },\n        // Show, Hide, and Toggle the spinner.\n        hide: function(event) {\n            this.element.attr('title', this.original_title);\n            this.disable_targets(false);\n            this.spinner.hide();\n            this._trigger( 'hidden' , event);\n        },\n        show: function(event) {\n            this.spinner.show();\n            this.element.attr('title', this.options.spin_text);\n            this.disable_targets(true);\n            this._trigger( 'shown' , event);\n        },\n        toggle : function(event) {\n            if (this.spinner.is(\":visible\")) this.hide(event); else this.show(event);\n        }\n    });\n\n    $(selectors.append).spinner();\n\n})( jQuery, window, document );","/**\n * Toggle That (v0.1): toggle-that.js\n *   -- toggle a collection of elements from a set of controls\n *\n *   Dependencies:  Bootstrap + JQuery\n *   MIT Open-source License (https://github.com/powderflask/bootstrap_extras/blob/master/LICENSE)\n */\nrequire( './jquery-ui-widget');\nrequire( './jquery-ui-widget-extensions');\n\n;(function( $, window, document, undefined ) {\n\n    var widgetName = 'bse.toggle_that',\n        widgetClass = 'bse-toggle-that',\n        selectors = widgetClass.buildNamesMap(['control', 'target'], '.');\n\n    $.widget( widgetName, {\n\n        // Options to be used as defaults\n        options: {\n            init_toggle: true,   // false to NOT toggle elements during initialization\n\n            // event callbacks (ajax events added during create)\n            toggled: null\n        },\n\n        // Events handled by this widget\n        _configureEventHandlers : function() {\n            this.control.click(this.toggle.bind(this));\n        },\n\n        // Initialize widget instance (e.g. element creation, apply theming, bind events etc.)\n        _create: function () {\n            // console.log('Create ', widgetName, 'instance for', this.element);\n            this._getDataOptions();\n            this.control = this.element.find(selectors.control);\n            this.target = this.element.find(selectors.target);\n            this._configureEventHandlers();\n            if (this.options.init_toggle)\n                this.toggle();\n         },\n\n        // Destroy plugin instance  and clean up modifications the widget has made to the DOM\n        _destroy: function () {\n            // console.log('Destroy:', this);\n            this.control.off('click');\n        },\n\n        // Toggle the target elements, using Bootstrap collapse if it present otherwise jQuery toggle()\n        toggle: function(event) {\n            this.target.hasClass('collapse')?this.target.collapse('toggle'):this.target.toggle();\n            this._trigger( 'toggled' , event);\n        }\n    });\n\n    $(selectors[widgetClass]).toggle_that();\n\n})( jQuery, window, document );","/**\n * Extensions for jQuery UI Widget Factory\n *    - _getDataOptions:  load options from data-option attributes in element's markup\n *    - _ajaxConfig\n *\n *   MIT Open-source License (https://github.com/powderflask/bootstrap_extras/blob/master/LICENSE)\n */\n\nrequire( './jquery-ui-widget');\nrequire( './util');\n\n(function( $, window, document, undefined ) {\n\n    const ajax_error_template =\n        '<div class=\"alert alert-warning alert-dismissible\" role=\"alert\">' +\n            '<button type=\"button\" class=\"close\" data-dismiss=\"alert\" aria-label=\"Close\">' +\n                '<span aria-hidden=\"true\">&times;</span>' +\n            '</button>' +\n            'Oops! We encountered an error processing your request: {textStatus}' +\n            '<br>Refresh page and try again?' +\n        '</div>';\n\n    var WidgetExtensionsMixin = {\n        // Load any data- attribute options from the element's tag\n        _getDataOptions : function() {\n            var data_opts = this.element.data();\n            opts = this.options;\n            Object.keys(data_opts).forEach(function(key) {\n                if (key in opts) {\n                    opts[key] = data_opts[key];\n                }\n            });\n        },\n\n       /*\n         * Standardized jQuery.ajax calls with default behaviours + triggers for BSE widgets\n         *   E.g., this.ajax_submit_form({ optional_ajax_settings_or_overrides })\n         *   Adds an optional callback and trigger for each local Ajax Event.\n         */\n\n        // Add ajax trigger events to this widget's options\n        _ajaxConfig : function() {\n             // Events triggered by ajax calls, used to extend widget options\n            const ajax_event_options= {\n                ajax_beforeSend: null,\n                ajax_success: null,\n                ajax_error: null,\n                ajax_complete: null\n            };\n            this.options = $.extend({}, ajax_event_options, this.options);\n        },\n\n\n        // Make a POST ajax request with the given form's input data\n        _ajaxSubmitForm : function(form, settings) {\n            var args = Object.create(settings),\n                form_data = form.find(':input').serialize() || \"\",  // in case \"form\" element is not an actual HTML form\n                extra_data = settings.data || \"\";\n            args.data = form_data + extra_data;\n            args.method = settings.method || form.attr('method') || 'POST';\n            args.url = settings.action || settings.url || form.attr('action');\n            console.assert(args.url, \"BSE ajaxSubmitForm Error: a url or form action option must be supplied.\");\n\n            this._ajaxRequest(form, args);\n        },\n\n        // Make a DELETE ajax request for the target element\n        _ajaxDelete : function(target, settings) {\n            var args = Object.create(settings);\n            args.method = settings.method || 'DELETE';\n            args.url = settings.url || settings.action;\n            console.assert(args.url, \"BSE ajaxDelete Error: a url must be supplied.\");\n\n            this._ajaxRequest(target, args);\n        },\n\n        _ajaxRequest: function(target, args) {\n            var self = this,\n                ajax_events = {\n                    beforeSend: function () {\n                        if (self.spinner) self.spinner.show();\n                        self._trigger('ajax_beforeSend', null, {args: args});\n                    },\n                    success: function (json, textStatus, xhr) {\n                        if (json.message) target.after(json.message);\n                        if (json.errors) target.after(json.errors);\n                        self._trigger('ajax_success', xhr, json);\n                    },\n                    error: function (xhr, textStatus, errorThrown) {\n                        target.after($(ajax_error_template.formatUnicorn({textStatus: textStatus})));\n                        console.log(xhr.status + \": \" + xhr.responseText);\n                        console.log(errorThrown);\n                        self._trigger('ajax_error', xhr, {args: args, textStatus:textStatus});\n                    },\n                    complete: function (xhr, textStatus) {\n                        if (self.spinner) self.spinner.hide();\n                        self._trigger('ajax_complete', xhr, {args: args, textStatus:textStatus});\n                    }\n                };\n\n            $.ajax($.extend(ajax_events, args));\n        }\n    };\n\n    if ('Widget' in $) {\n        Object.assign($.Widget.prototype, WidgetExtensionsMixin);\n    }\n})(jQuery, window, document);\n","/*! jQuery UI - v1.12.1 - 2018-06-05\n* http://jqueryui.com\n* Includes: widget.js, position.js\n* Copyright jQuery Foundation and other contributors; Licensed MIT */\n\n(function( factory ) {\n\tif ( typeof define === \"function\" && define.amd ) {\n\n\t\t// AMD. Register as an anonymous module.\n\t\tdefine([ \"jquery\" ], factory );\n\t} else {\n\n\t\t// Browser globals\n\t\tfactory( jQuery );\n\t}\n}(function( $ ) {\n\n$.ui = $.ui || {};\n\nvar version = $.ui.version = \"1.12.1\";\n\n\n/*!\n * jQuery UI Widget 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n */\n\n//>>label: Widget\n//>>group: Core\n//>>description: Provides a factory for creating stateful widgets with a common API.\n//>>docs: http://api.jqueryui.com/jQuery.widget/\n//>>demos: http://jqueryui.com/widget/\n\n\n\nvar widgetUuid = 0;\nvar widgetSlice = Array.prototype.slice;\n\n$.cleanData = ( function( orig ) {\n\treturn function( elems ) {\n\t\tvar events, elem, i;\n\t\tfor ( i = 0; ( elem = elems[ i ] ) != null; i++ ) {\n\t\t\ttry {\n\n\t\t\t\t// Only trigger remove when necessary to save time\n\t\t\t\tevents = $._data( elem, \"events\" );\n\t\t\t\tif ( events && events.remove ) {\n\t\t\t\t\t$( elem ).triggerHandler( \"remove\" );\n\t\t\t\t}\n\n\t\t\t// Http://bugs.jquery.com/ticket/8235\n\t\t\t} catch ( e ) {}\n\t\t}\n\t\torig( elems );\n\t};\n} )( $.cleanData );\n\n$.widget = function( name, base, prototype ) {\n\tvar existingConstructor, constructor, basePrototype;\n\n\t// ProxiedPrototype allows the provided prototype to remain unmodified\n\t// so that it can be used as a mixin for multiple widgets (#8876)\n\tvar proxiedPrototype = {};\n\n\tvar namespace = name.split( \".\" )[ 0 ];\n\tname = name.split( \".\" )[ 1 ];\n\tvar fullName = namespace + \"-\" + name;\n\n\tif ( !prototype ) {\n\t\tprototype = base;\n\t\tbase = $.Widget;\n\t}\n\n\tif ( $.isArray( prototype ) ) {\n\t\tprototype = $.extend.apply( null, [ {} ].concat( prototype ) );\n\t}\n\n\t// Create selector for plugin\n\t$.expr[ \":\" ][ fullName.toLowerCase() ] = function( elem ) {\n\t\treturn !!$.data( elem, fullName );\n\t};\n\n\t$[ namespace ] = $[ namespace ] || {};\n\texistingConstructor = $[ namespace ][ name ];\n\tconstructor = $[ namespace ][ name ] = function( options, element ) {\n\n\t\t// Allow instantiation without \"new\" keyword\n\t\tif ( !this._createWidget ) {\n\t\t\treturn new constructor( options, element );\n\t\t}\n\n\t\t// Allow instantiation without initializing for simple inheritance\n\t\t// must use \"new\" keyword (the code above always passes args)\n\t\tif ( arguments.length ) {\n\t\t\tthis._createWidget( options, element );\n\t\t}\n\t};\n\n\t// Extend with the existing constructor to carry over any static properties\n\t$.extend( constructor, existingConstructor, {\n\t\tversion: prototype.version,\n\n\t\t// Copy the object used to create the prototype in case we need to\n\t\t// redefine the widget later\n\t\t_proto: $.extend( {}, prototype ),\n\n\t\t// Track widgets that inherit from this widget in case this widget is\n\t\t// redefined after a widget inherits from it\n\t\t_childConstructors: []\n\t} );\n\n\tbasePrototype = new base();\n\n\t// We need to make the options hash a property directly on the new instance\n\t// otherwise we'll modify the options hash on the prototype that we're\n\t// inheriting from\n\tbasePrototype.options = $.widget.extend( {}, basePrototype.options );\n\t$.each( prototype, function( prop, value ) {\n\t\tif ( !$.isFunction( value ) ) {\n\t\t\tproxiedPrototype[ prop ] = value;\n\t\t\treturn;\n\t\t}\n\t\tproxiedPrototype[ prop ] = ( function() {\n\t\t\tfunction _super() {\n\t\t\t\treturn base.prototype[ prop ].apply( this, arguments );\n\t\t\t}\n\n\t\t\tfunction _superApply( args ) {\n\t\t\t\treturn base.prototype[ prop ].apply( this, args );\n\t\t\t}\n\n\t\t\treturn function() {\n\t\t\t\tvar __super = this._super;\n\t\t\t\tvar __superApply = this._superApply;\n\t\t\t\tvar returnValue;\n\n\t\t\t\tthis._super = _super;\n\t\t\t\tthis._superApply = _superApply;\n\n\t\t\t\treturnValue = value.apply( this, arguments );\n\n\t\t\t\tthis._super = __super;\n\t\t\t\tthis._superApply = __superApply;\n\n\t\t\t\treturn returnValue;\n\t\t\t};\n\t\t} )();\n\t} );\n\tconstructor.prototype = $.widget.extend( basePrototype, {\n\n\t\t// TODO: remove support for widgetEventPrefix\n\t\t// always use the name + a colon as the prefix, e.g., draggable:start\n\t\t// don't prefix for widgets that aren't DOM-based\n\t\twidgetEventPrefix: existingConstructor ? ( basePrototype.widgetEventPrefix || name ) : name\n\t}, proxiedPrototype, {\n\t\tconstructor: constructor,\n\t\tnamespace: namespace,\n\t\twidgetName: name,\n\t\twidgetFullName: fullName\n\t} );\n\n\t// If this widget is being redefined then we need to find all widgets that\n\t// are inheriting from it and redefine all of them so that they inherit from\n\t// the new version of this widget. We're essentially trying to replace one\n\t// level in the prototype chain.\n\tif ( existingConstructor ) {\n\t\t$.each( existingConstructor._childConstructors, function( i, child ) {\n\t\t\tvar childPrototype = child.prototype;\n\n\t\t\t// Redefine the child widget using the same prototype that was\n\t\t\t// originally used, but inherit from the new version of the base\n\t\t\t$.widget( childPrototype.namespace + \".\" + childPrototype.widgetName, constructor,\n\t\t\t\tchild._proto );\n\t\t} );\n\n\t\t// Remove the list of existing child constructors from the old constructor\n\t\t// so the old child constructors can be garbage collected\n\t\tdelete existingConstructor._childConstructors;\n\t} else {\n\t\tbase._childConstructors.push( constructor );\n\t}\n\n\t$.widget.bridge( name, constructor );\n\n\treturn constructor;\n};\n\n$.widget.extend = function( target ) {\n\tvar input = widgetSlice.call( arguments, 1 );\n\tvar inputIndex = 0;\n\tvar inputLength = input.length;\n\tvar key;\n\tvar value;\n\n\tfor ( ; inputIndex < inputLength; inputIndex++ ) {\n\t\tfor ( key in input[ inputIndex ] ) {\n\t\t\tvalue = input[ inputIndex ][ key ];\n\t\t\tif ( input[ inputIndex ].hasOwnProperty( key ) && value !== undefined ) {\n\n\t\t\t\t// Clone objects\n\t\t\t\tif ( $.isPlainObject( value ) ) {\n\t\t\t\t\ttarget[ key ] = $.isPlainObject( target[ key ] ) ?\n\t\t\t\t\t\t$.widget.extend( {}, target[ key ], value ) :\n\n\t\t\t\t\t\t// Don't extend strings, arrays, etc. with objects\n\t\t\t\t\t\t$.widget.extend( {}, value );\n\n\t\t\t\t// Copy everything else by reference\n\t\t\t\t} else {\n\t\t\t\t\ttarget[ key ] = value;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\treturn target;\n};\n\n$.widget.bridge = function( name, object ) {\n\tvar fullName = object.prototype.widgetFullName || name;\n\t$.fn[ name ] = function( options ) {\n\t\tvar isMethodCall = typeof options === \"string\";\n\t\tvar args = widgetSlice.call( arguments, 1 );\n\t\tvar returnValue = this;\n\n\t\tif ( isMethodCall ) {\n\n\t\t\t// If this is an empty collection, we need to have the instance method\n\t\t\t// return undefined instead of the jQuery instance\n\t\t\tif ( !this.length && options === \"instance\" ) {\n\t\t\t\treturnValue = undefined;\n\t\t\t} else {\n\t\t\t\tthis.each( function() {\n\t\t\t\t\tvar methodValue;\n\t\t\t\t\tvar instance = $.data( this, fullName );\n\n\t\t\t\t\tif ( options === \"instance\" ) {\n\t\t\t\t\t\treturnValue = instance;\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( !instance ) {\n\t\t\t\t\t\treturn $.error( \"cannot call methods on \" + name +\n\t\t\t\t\t\t\t\" prior to initialization; \" +\n\t\t\t\t\t\t\t\"attempted to call method '\" + options + \"'\" );\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( !$.isFunction( instance[ options ] ) || options.charAt( 0 ) === \"_\" ) {\n\t\t\t\t\t\treturn $.error( \"no such method '\" + options + \"' for \" + name +\n\t\t\t\t\t\t\t\" widget instance\" );\n\t\t\t\t\t}\n\n\t\t\t\t\tmethodValue = instance[ options ].apply( instance, args );\n\n\t\t\t\t\tif ( methodValue !== instance && methodValue !== undefined ) {\n\t\t\t\t\t\treturnValue = methodValue && methodValue.jquery ?\n\t\t\t\t\t\t\treturnValue.pushStack( methodValue.get() ) :\n\t\t\t\t\t\t\tmethodValue;\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t}\n\t\t} else {\n\n\t\t\t// Allow multiple hashes to be passed on init\n\t\t\tif ( args.length ) {\n\t\t\t\toptions = $.widget.extend.apply( null, [ options ].concat( args ) );\n\t\t\t}\n\n\t\t\tthis.each( function() {\n\t\t\t\tvar instance = $.data( this, fullName );\n\t\t\t\tif ( instance ) {\n\t\t\t\t\tinstance.option( options || {} );\n\t\t\t\t\tif ( instance._init ) {\n\t\t\t\t\t\tinstance._init();\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t$.data( this, fullName, new object( options, this ) );\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\n\t\treturn returnValue;\n\t};\n};\n\n$.Widget = function( /* options, element */ ) {};\n$.Widget._childConstructors = [];\n\n$.Widget.prototype = {\n\twidgetName: \"widget\",\n\twidgetEventPrefix: \"\",\n\tdefaultElement: \"<div>\",\n\n\toptions: {\n\t\tclasses: {},\n\t\tdisabled: false,\n\n\t\t// Callbacks\n\t\tcreate: null\n\t},\n\n\t_createWidget: function( options, element ) {\n\t\telement = $( element || this.defaultElement || this )[ 0 ];\n\t\tthis.element = $( element );\n\t\tthis.uuid = widgetUuid++;\n\t\tthis.eventNamespace = \".\" + this.widgetName + this.uuid;\n\n\t\tthis.bindings = $();\n\t\tthis.hoverable = $();\n\t\tthis.focusable = $();\n\t\tthis.classesElementLookup = {};\n\n\t\tif ( element !== this ) {\n\t\t\t$.data( element, this.widgetFullName, this );\n\t\t\tthis._on( true, this.element, {\n\t\t\t\tremove: function( event ) {\n\t\t\t\t\tif ( event.target === element ) {\n\t\t\t\t\t\tthis.destroy();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} );\n\t\t\tthis.document = $( element.style ?\n\n\t\t\t\t// Element within the document\n\t\t\t\telement.ownerDocument :\n\n\t\t\t\t// Element is window or document\n\t\t\t\telement.document || element );\n\t\t\tthis.window = $( this.document[ 0 ].defaultView || this.document[ 0 ].parentWindow );\n\t\t}\n\n\t\tthis.options = $.widget.extend( {},\n\t\t\tthis.options,\n\t\t\tthis._getCreateOptions(),\n\t\t\toptions );\n\n\t\tthis._create();\n\n\t\tif ( this.options.disabled ) {\n\t\t\tthis._setOptionDisabled( this.options.disabled );\n\t\t}\n\n\t\tthis._trigger( \"create\", null, this._getCreateEventData() );\n\t\tthis._init();\n\t},\n\n\t_getCreateOptions: function() {\n\t\treturn {};\n\t},\n\n\t_getCreateEventData: $.noop,\n\n\t_create: $.noop,\n\n\t_init: $.noop,\n\n\tdestroy: function() {\n\t\tvar that = this;\n\n\t\tthis._destroy();\n\t\t$.each( this.classesElementLookup, function( key, value ) {\n\t\t\tthat._removeClass( value, key );\n\t\t} );\n\n\t\t// We can probably remove the unbind calls in 2.0\n\t\t// all event bindings should go through this._on()\n\t\tthis.element\n\t\t\t.off( this.eventNamespace )\n\t\t\t.removeData( this.widgetFullName );\n\t\tthis.widget()\n\t\t\t.off( this.eventNamespace )\n\t\t\t.removeAttr( \"aria-disabled\" );\n\n\t\t// Clean up events and states\n\t\tthis.bindings.off( this.eventNamespace );\n\t},\n\n\t_destroy: $.noop,\n\n\twidget: function() {\n\t\treturn this.element;\n\t},\n\n\toption: function( key, value ) {\n\t\tvar options = key;\n\t\tvar parts;\n\t\tvar curOption;\n\t\tvar i;\n\n\t\tif ( arguments.length === 0 ) {\n\n\t\t\t// Don't return a reference to the internal hash\n\t\t\treturn $.widget.extend( {}, this.options );\n\t\t}\n\n\t\tif ( typeof key === \"string\" ) {\n\n\t\t\t// Handle nested keys, e.g., \"foo.bar\" => { foo: { bar: ___ } }\n\t\t\toptions = {};\n\t\t\tparts = key.split( \".\" );\n\t\t\tkey = parts.shift();\n\t\t\tif ( parts.length ) {\n\t\t\t\tcurOption = options[ key ] = $.widget.extend( {}, this.options[ key ] );\n\t\t\t\tfor ( i = 0; i < parts.length - 1; i++ ) {\n\t\t\t\t\tcurOption[ parts[ i ] ] = curOption[ parts[ i ] ] || {};\n\t\t\t\t\tcurOption = curOption[ parts[ i ] ];\n\t\t\t\t}\n\t\t\t\tkey = parts.pop();\n\t\t\t\tif ( arguments.length === 1 ) {\n\t\t\t\t\treturn curOption[ key ] === undefined ? null : curOption[ key ];\n\t\t\t\t}\n\t\t\t\tcurOption[ key ] = value;\n\t\t\t} else {\n\t\t\t\tif ( arguments.length === 1 ) {\n\t\t\t\t\treturn this.options[ key ] === undefined ? null : this.options[ key ];\n\t\t\t\t}\n\t\t\t\toptions[ key ] = value;\n\t\t\t}\n\t\t}\n\n\t\tthis._setOptions( options );\n\n\t\treturn this;\n\t},\n\n\t_setOptions: function( options ) {\n\t\tvar key;\n\n\t\tfor ( key in options ) {\n\t\t\tthis._setOption( key, options[ key ] );\n\t\t}\n\n\t\treturn this;\n\t},\n\n\t_setOption: function( key, value ) {\n\t\tif ( key === \"classes\" ) {\n\t\t\tthis._setOptionClasses( value );\n\t\t}\n\n\t\tthis.options[ key ] = value;\n\n\t\tif ( key === \"disabled\" ) {\n\t\t\tthis._setOptionDisabled( value );\n\t\t}\n\n\t\treturn this;\n\t},\n\n\t_setOptionClasses: function( value ) {\n\t\tvar classKey, elements, currentElements;\n\n\t\tfor ( classKey in value ) {\n\t\t\tcurrentElements = this.classesElementLookup[ classKey ];\n\t\t\tif ( value[ classKey ] === this.options.classes[ classKey ] ||\n\t\t\t\t\t!currentElements ||\n\t\t\t\t\t!currentElements.length ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// We are doing this to create a new jQuery object because the _removeClass() call\n\t\t\t// on the next line is going to destroy the reference to the current elements being\n\t\t\t// tracked. We need to save a copy of this collection so that we can add the new classes\n\t\t\t// below.\n\t\t\telements = $( currentElements.get() );\n\t\t\tthis._removeClass( currentElements, classKey );\n\n\t\t\t// We don't use _addClass() here, because that uses this.options.classes\n\t\t\t// for generating the string of classes. We want to use the value passed in from\n\t\t\t// _setOption(), this is the new value of the classes option which was passed to\n\t\t\t// _setOption(). We pass this value directly to _classes().\n\t\t\telements.addClass( this._classes( {\n\t\t\t\telement: elements,\n\t\t\t\tkeys: classKey,\n\t\t\t\tclasses: value,\n\t\t\t\tadd: true\n\t\t\t} ) );\n\t\t}\n\t},\n\n\t_setOptionDisabled: function( value ) {\n\t\tthis._toggleClass( this.widget(), this.widgetFullName + \"-disabled\", null, !!value );\n\n\t\t// If the widget is becoming disabled, then nothing is interactive\n\t\tif ( value ) {\n\t\t\tthis._removeClass( this.hoverable, null, \"ui-state-hover\" );\n\t\t\tthis._removeClass( this.focusable, null, \"ui-state-focus\" );\n\t\t}\n\t},\n\n\tenable: function() {\n\t\treturn this._setOptions( { disabled: false } );\n\t},\n\n\tdisable: function() {\n\t\treturn this._setOptions( { disabled: true } );\n\t},\n\n\t_classes: function( options ) {\n\t\tvar full = [];\n\t\tvar that = this;\n\n\t\toptions = $.extend( {\n\t\t\telement: this.element,\n\t\t\tclasses: this.options.classes || {}\n\t\t}, options );\n\n\t\tfunction processClassString( classes, checkOption ) {\n\t\t\tvar current, i;\n\t\t\tfor ( i = 0; i < classes.length; i++ ) {\n\t\t\t\tcurrent = that.classesElementLookup[ classes[ i ] ] || $();\n\t\t\t\tif ( options.add ) {\n\t\t\t\t\tcurrent = $( $.unique( current.get().concat( options.element.get() ) ) );\n\t\t\t\t} else {\n\t\t\t\t\tcurrent = $( current.not( options.element ).get() );\n\t\t\t\t}\n\t\t\t\tthat.classesElementLookup[ classes[ i ] ] = current;\n\t\t\t\tfull.push( classes[ i ] );\n\t\t\t\tif ( checkOption && options.classes[ classes[ i ] ] ) {\n\t\t\t\t\tfull.push( options.classes[ classes[ i ] ] );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis._on( options.element, {\n\t\t\t\"remove\": \"_untrackClassesElement\"\n\t\t} );\n\n\t\tif ( options.keys ) {\n\t\t\tprocessClassString( options.keys.match( /\\S+/g ) || [], true );\n\t\t}\n\t\tif ( options.extra ) {\n\t\t\tprocessClassString( options.extra.match( /\\S+/g ) || [] );\n\t\t}\n\n\t\treturn full.join( \" \" );\n\t},\n\n\t_untrackClassesElement: function( event ) {\n\t\tvar that = this;\n\t\t$.each( that.classesElementLookup, function( key, value ) {\n\t\t\tif ( $.inArray( event.target, value ) !== -1 ) {\n\t\t\t\tthat.classesElementLookup[ key ] = $( value.not( event.target ).get() );\n\t\t\t}\n\t\t} );\n\t},\n\n\t_removeClass: function( element, keys, extra ) {\n\t\treturn this._toggleClass( element, keys, extra, false );\n\t},\n\n\t_addClass: function( element, keys, extra ) {\n\t\treturn this._toggleClass( element, keys, extra, true );\n\t},\n\n\t_toggleClass: function( element, keys, extra, add ) {\n\t\tadd = ( typeof add === \"boolean\" ) ? add : extra;\n\t\tvar shift = ( typeof element === \"string\" || element === null ),\n\t\t\toptions = {\n\t\t\t\textra: shift ? keys : extra,\n\t\t\t\tkeys: shift ? element : keys,\n\t\t\t\telement: shift ? this.element : element,\n\t\t\t\tadd: add\n\t\t\t};\n\t\toptions.element.toggleClass( this._classes( options ), add );\n\t\treturn this;\n\t},\n\n\t_on: function( suppressDisabledCheck, element, handlers ) {\n\t\tvar delegateElement;\n\t\tvar instance = this;\n\n\t\t// No suppressDisabledCheck flag, shuffle arguments\n\t\tif ( typeof suppressDisabledCheck !== \"boolean\" ) {\n\t\t\thandlers = element;\n\t\t\telement = suppressDisabledCheck;\n\t\t\tsuppressDisabledCheck = false;\n\t\t}\n\n\t\t// No element argument, shuffle and use this.element\n\t\tif ( !handlers ) {\n\t\t\thandlers = element;\n\t\t\telement = this.element;\n\t\t\tdelegateElement = this.widget();\n\t\t} else {\n\t\t\telement = delegateElement = $( element );\n\t\t\tthis.bindings = this.bindings.add( element );\n\t\t}\n\n\t\t$.each( handlers, function( event, handler ) {\n\t\t\tfunction handlerProxy() {\n\n\t\t\t\t// Allow widgets to customize the disabled handling\n\t\t\t\t// - disabled as an array instead of boolean\n\t\t\t\t// - disabled class as method for disabling individual parts\n\t\t\t\tif ( !suppressDisabledCheck &&\n\t\t\t\t\t\t( instance.options.disabled === true ||\n\t\t\t\t\t\t$( this ).hasClass( \"ui-state-disabled\" ) ) ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\treturn ( typeof handler === \"string\" ? instance[ handler ] : handler )\n\t\t\t\t\t.apply( instance, arguments );\n\t\t\t}\n\n\t\t\t// Copy the guid so direct unbinding works\n\t\t\tif ( typeof handler !== \"string\" ) {\n\t\t\t\thandlerProxy.guid = handler.guid =\n\t\t\t\t\thandler.guid || handlerProxy.guid || $.guid++;\n\t\t\t}\n\n\t\t\tvar match = event.match( /^([\\w:-]*)\\s*(.*)$/ );\n\t\t\tvar eventName = match[ 1 ] + instance.eventNamespace;\n\t\t\tvar selector = match[ 2 ];\n\n\t\t\tif ( selector ) {\n\t\t\t\tdelegateElement.on( eventName, selector, handlerProxy );\n\t\t\t} else {\n\t\t\t\telement.on( eventName, handlerProxy );\n\t\t\t}\n\t\t} );\n\t},\n\n\t_off: function( element, eventName ) {\n\t\teventName = ( eventName || \"\" ).split( \" \" ).join( this.eventNamespace + \" \" ) +\n\t\t\tthis.eventNamespace;\n\t\telement.off( eventName ).off( eventName );\n\n\t\t// Clear the stack to avoid memory leaks (#10056)\n\t\tthis.bindings = $( this.bindings.not( element ).get() );\n\t\tthis.focusable = $( this.focusable.not( element ).get() );\n\t\tthis.hoverable = $( this.hoverable.not( element ).get() );\n\t},\n\n\t_delay: function( handler, delay ) {\n\t\tfunction handlerProxy() {\n\t\t\treturn ( typeof handler === \"string\" ? instance[ handler ] : handler )\n\t\t\t\t.apply( instance, arguments );\n\t\t}\n\t\tvar instance = this;\n\t\treturn setTimeout( handlerProxy, delay || 0 );\n\t},\n\n\t_hoverable: function( element ) {\n\t\tthis.hoverable = this.hoverable.add( element );\n\t\tthis._on( element, {\n\t\t\tmouseenter: function( event ) {\n\t\t\t\tthis._addClass( $( event.currentTarget ), null, \"ui-state-hover\" );\n\t\t\t},\n\t\t\tmouseleave: function( event ) {\n\t\t\t\tthis._removeClass( $( event.currentTarget ), null, \"ui-state-hover\" );\n\t\t\t}\n\t\t} );\n\t},\n\n\t_focusable: function( element ) {\n\t\tthis.focusable = this.focusable.add( element );\n\t\tthis._on( element, {\n\t\t\tfocusin: function( event ) {\n\t\t\t\tthis._addClass( $( event.currentTarget ), null, \"ui-state-focus\" );\n\t\t\t},\n\t\t\tfocusout: function( event ) {\n\t\t\t\tthis._removeClass( $( event.currentTarget ), null, \"ui-state-focus\" );\n\t\t\t}\n\t\t} );\n\t},\n\n\t_trigger: function( type, event, data ) {\n\t\tvar prop, orig;\n\t\tvar callback = this.options[ type ];\n\n\t\tdata = data || {};\n\t\tevent = $.Event( event );\n\t\tevent.type = ( type === this.widgetEventPrefix ?\n\t\t\ttype :\n\t\t\tthis.widgetEventPrefix + type ).toLowerCase();\n\n\t\t// The original event may come from any element\n\t\t// so we need to reset the target on the new event\n\t\tevent.target = this.element[ 0 ];\n\n\t\t// Copy original event properties over to the new event\n\t\torig = event.originalEvent;\n\t\tif ( orig ) {\n\t\t\tfor ( prop in orig ) {\n\t\t\t\tif ( !( prop in event ) ) {\n\t\t\t\t\tevent[ prop ] = orig[ prop ];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis.element.trigger( event, data );\n\t\treturn !( $.isFunction( callback ) &&\n\t\t\tcallback.apply( this.element[ 0 ], [ event ].concat( data ) ) === false ||\n\t\t\tevent.isDefaultPrevented() );\n\t}\n};\n\n$.each( { show: \"fadeIn\", hide: \"fadeOut\" }, function( method, defaultEffect ) {\n\t$.Widget.prototype[ \"_\" + method ] = function( element, options, callback ) {\n\t\tif ( typeof options === \"string\" ) {\n\t\t\toptions = { effect: options };\n\t\t}\n\n\t\tvar hasOptions;\n\t\tvar effectName = !options ?\n\t\t\tmethod :\n\t\t\toptions === true || typeof options === \"number\" ?\n\t\t\t\tdefaultEffect :\n\t\t\t\toptions.effect || defaultEffect;\n\n\t\toptions = options || {};\n\t\tif ( typeof options === \"number\" ) {\n\t\t\toptions = { duration: options };\n\t\t}\n\n\t\thasOptions = !$.isEmptyObject( options );\n\t\toptions.complete = callback;\n\n\t\tif ( options.delay ) {\n\t\t\telement.delay( options.delay );\n\t\t}\n\n\t\tif ( hasOptions && $.effects && $.effects.effect[ effectName ] ) {\n\t\t\telement[ method ]( options );\n\t\t} else if ( effectName !== method && element[ effectName ] ) {\n\t\t\telement[ effectName ]( options.duration, options.easing, callback );\n\t\t} else {\n\t\t\telement.queue( function( next ) {\n\t\t\t\t$( this )[ method ]();\n\t\t\t\tif ( callback ) {\n\t\t\t\t\tcallback.call( element[ 0 ] );\n\t\t\t\t}\n\t\t\t\tnext();\n\t\t\t} );\n\t\t}\n\t};\n} );\n\nvar widget = $.widget;\n\n\n/*!\n * jQuery UI Position 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *\n * http://api.jqueryui.com/position/\n */\n\n//>>label: Position\n//>>group: Core\n//>>description: Positions elements relative to other elements.\n//>>docs: http://api.jqueryui.com/position/\n//>>demos: http://jqueryui.com/position/\n\n\n( function() {\nvar cachedScrollbarWidth,\n\tmax = Math.max,\n\tabs = Math.abs,\n\trhorizontal = /left|center|right/,\n\trvertical = /top|center|bottom/,\n\troffset = /[\\+\\-]\\d+(\\.[\\d]+)?%?/,\n\trposition = /^\\w+/,\n\trpercent = /%$/,\n\t_position = $.fn.position;\n\nfunction getOffsets( offsets, width, height ) {\n\treturn [\n\t\tparseFloat( offsets[ 0 ] ) * ( rpercent.test( offsets[ 0 ] ) ? width / 100 : 1 ),\n\t\tparseFloat( offsets[ 1 ] ) * ( rpercent.test( offsets[ 1 ] ) ? height / 100 : 1 )\n\t];\n}\n\nfunction parseCss( element, property ) {\n\treturn parseInt( $.css( element, property ), 10 ) || 0;\n}\n\nfunction getDimensions( elem ) {\n\tvar raw = elem[ 0 ];\n\tif ( raw.nodeType === 9 ) {\n\t\treturn {\n\t\t\twidth: elem.width(),\n\t\t\theight: elem.height(),\n\t\t\toffset: { top: 0, left: 0 }\n\t\t};\n\t}\n\tif ( $.isWindow( raw ) ) {\n\t\treturn {\n\t\t\twidth: elem.width(),\n\t\t\theight: elem.height(),\n\t\t\toffset: { top: elem.scrollTop(), left: elem.scrollLeft() }\n\t\t};\n\t}\n\tif ( raw.preventDefault ) {\n\t\treturn {\n\t\t\twidth: 0,\n\t\t\theight: 0,\n\t\t\toffset: { top: raw.pageY, left: raw.pageX }\n\t\t};\n\t}\n\treturn {\n\t\twidth: elem.outerWidth(),\n\t\theight: elem.outerHeight(),\n\t\toffset: elem.offset()\n\t};\n}\n\n$.position = {\n\tscrollbarWidth: function() {\n\t\tif ( cachedScrollbarWidth !== undefined ) {\n\t\t\treturn cachedScrollbarWidth;\n\t\t}\n\t\tvar w1, w2,\n\t\t\tdiv = $( \"<div \" +\n\t\t\t\t\"style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'>\" +\n\t\t\t\t\"<div style='height:100px;width:auto;'></div></div>\" ),\n\t\t\tinnerDiv = div.children()[ 0 ];\n\n\t\t$( \"body\" ).append( div );\n\t\tw1 = innerDiv.offsetWidth;\n\t\tdiv.css( \"overflow\", \"scroll\" );\n\n\t\tw2 = innerDiv.offsetWidth;\n\n\t\tif ( w1 === w2 ) {\n\t\t\tw2 = div[ 0 ].clientWidth;\n\t\t}\n\n\t\tdiv.remove();\n\n\t\treturn ( cachedScrollbarWidth = w1 - w2 );\n\t},\n\tgetScrollInfo: function( within ) {\n\t\tvar overflowX = within.isWindow || within.isDocument ? \"\" :\n\t\t\t\twithin.element.css( \"overflow-x\" ),\n\t\t\toverflowY = within.isWindow || within.isDocument ? \"\" :\n\t\t\t\twithin.element.css( \"overflow-y\" ),\n\t\t\thasOverflowX = overflowX === \"scroll\" ||\n\t\t\t\t( overflowX === \"auto\" && within.width < within.element[ 0 ].scrollWidth ),\n\t\t\thasOverflowY = overflowY === \"scroll\" ||\n\t\t\t\t( overflowY === \"auto\" && within.height < within.element[ 0 ].scrollHeight );\n\t\treturn {\n\t\t\twidth: hasOverflowY ? $.position.scrollbarWidth() : 0,\n\t\t\theight: hasOverflowX ? $.position.scrollbarWidth() : 0\n\t\t};\n\t},\n\tgetWithinInfo: function( element ) {\n\t\tvar withinElement = $( element || window ),\n\t\t\tisWindow = $.isWindow( withinElement[ 0 ] ),\n\t\t\tisDocument = !!withinElement[ 0 ] && withinElement[ 0 ].nodeType === 9,\n\t\t\thasOffset = !isWindow && !isDocument;\n\t\treturn {\n\t\t\telement: withinElement,\n\t\t\tisWindow: isWindow,\n\t\t\tisDocument: isDocument,\n\t\t\toffset: hasOffset ? $( element ).offset() : { left: 0, top: 0 },\n\t\t\tscrollLeft: withinElement.scrollLeft(),\n\t\t\tscrollTop: withinElement.scrollTop(),\n\t\t\twidth: withinElement.outerWidth(),\n\t\t\theight: withinElement.outerHeight()\n\t\t};\n\t}\n};\n\n$.fn.position = function( options ) {\n\tif ( !options || !options.of ) {\n\t\treturn _position.apply( this, arguments );\n\t}\n\n\t// Make a copy, we don't want to modify arguments\n\toptions = $.extend( {}, options );\n\n\tvar atOffset, targetWidth, targetHeight, targetOffset, basePosition, dimensions,\n\t\ttarget = $( options.of ),\n\t\twithin = $.position.getWithinInfo( options.within ),\n\t\tscrollInfo = $.position.getScrollInfo( within ),\n\t\tcollision = ( options.collision || \"flip\" ).split( \" \" ),\n\t\toffsets = {};\n\n\tdimensions = getDimensions( target );\n\tif ( target[ 0 ].preventDefault ) {\n\n\t\t// Force left top to allow flipping\n\t\toptions.at = \"left top\";\n\t}\n\ttargetWidth = dimensions.width;\n\ttargetHeight = dimensions.height;\n\ttargetOffset = dimensions.offset;\n\n\t// Clone to reuse original targetOffset later\n\tbasePosition = $.extend( {}, targetOffset );\n\n\t// Force my and at to have valid horizontal and vertical positions\n\t// if a value is missing or invalid, it will be converted to center\n\t$.each( [ \"my\", \"at\" ], function() {\n\t\tvar pos = ( options[ this ] || \"\" ).split( \" \" ),\n\t\t\thorizontalOffset,\n\t\t\tverticalOffset;\n\n\t\tif ( pos.length === 1 ) {\n\t\t\tpos = rhorizontal.test( pos[ 0 ] ) ?\n\t\t\t\tpos.concat( [ \"center\" ] ) :\n\t\t\t\trvertical.test( pos[ 0 ] ) ?\n\t\t\t\t\t[ \"center\" ].concat( pos ) :\n\t\t\t\t\t[ \"center\", \"center\" ];\n\t\t}\n\t\tpos[ 0 ] = rhorizontal.test( pos[ 0 ] ) ? pos[ 0 ] : \"center\";\n\t\tpos[ 1 ] = rvertical.test( pos[ 1 ] ) ? pos[ 1 ] : \"center\";\n\n\t\t// Calculate offsets\n\t\thorizontalOffset = roffset.exec( pos[ 0 ] );\n\t\tverticalOffset = roffset.exec( pos[ 1 ] );\n\t\toffsets[ this ] = [\n\t\t\thorizontalOffset ? horizontalOffset[ 0 ] : 0,\n\t\t\tverticalOffset ? verticalOffset[ 0 ] : 0\n\t\t];\n\n\t\t// Reduce to just the positions without the offsets\n\t\toptions[ this ] = [\n\t\t\trposition.exec( pos[ 0 ] )[ 0 ],\n\t\t\trposition.exec( pos[ 1 ] )[ 0 ]\n\t\t];\n\t} );\n\n\t// Normalize collision option\n\tif ( collision.length === 1 ) {\n\t\tcollision[ 1 ] = collision[ 0 ];\n\t}\n\n\tif ( options.at[ 0 ] === \"right\" ) {\n\t\tbasePosition.left += targetWidth;\n\t} else if ( options.at[ 0 ] === \"center\" ) {\n\t\tbasePosition.left += targetWidth / 2;\n\t}\n\n\tif ( options.at[ 1 ] === \"bottom\" ) {\n\t\tbasePosition.top += targetHeight;\n\t} else if ( options.at[ 1 ] === \"center\" ) {\n\t\tbasePosition.top += targetHeight / 2;\n\t}\n\n\tatOffset = getOffsets( offsets.at, targetWidth, targetHeight );\n\tbasePosition.left += atOffset[ 0 ];\n\tbasePosition.top += atOffset[ 1 ];\n\n\treturn this.each( function() {\n\t\tvar collisionPosition, using,\n\t\t\telem = $( this ),\n\t\t\telemWidth = elem.outerWidth(),\n\t\t\telemHeight = elem.outerHeight(),\n\t\t\tmarginLeft = parseCss( this, \"marginLeft\" ),\n\t\t\tmarginTop = parseCss( this, \"marginTop\" ),\n\t\t\tcollisionWidth = elemWidth + marginLeft + parseCss( this, \"marginRight\" ) +\n\t\t\t\tscrollInfo.width,\n\t\t\tcollisionHeight = elemHeight + marginTop + parseCss( this, \"marginBottom\" ) +\n\t\t\t\tscrollInfo.height,\n\t\t\tposition = $.extend( {}, basePosition ),\n\t\t\tmyOffset = getOffsets( offsets.my, elem.outerWidth(), elem.outerHeight() );\n\n\t\tif ( options.my[ 0 ] === \"right\" ) {\n\t\t\tposition.left -= elemWidth;\n\t\t} else if ( options.my[ 0 ] === \"center\" ) {\n\t\t\tposition.left -= elemWidth / 2;\n\t\t}\n\n\t\tif ( options.my[ 1 ] === \"bottom\" ) {\n\t\t\tposition.top -= elemHeight;\n\t\t} else if ( options.my[ 1 ] === \"center\" ) {\n\t\t\tposition.top -= elemHeight / 2;\n\t\t}\n\n\t\tposition.left += myOffset[ 0 ];\n\t\tposition.top += myOffset[ 1 ];\n\n\t\tcollisionPosition = {\n\t\t\tmarginLeft: marginLeft,\n\t\t\tmarginTop: marginTop\n\t\t};\n\n\t\t$.each( [ \"left\", \"top\" ], function( i, dir ) {\n\t\t\tif ( $.ui.position[ collision[ i ] ] ) {\n\t\t\t\t$.ui.position[ collision[ i ] ][ dir ]( position, {\n\t\t\t\t\ttargetWidth: targetWidth,\n\t\t\t\t\ttargetHeight: targetHeight,\n\t\t\t\t\telemWidth: elemWidth,\n\t\t\t\t\telemHeight: elemHeight,\n\t\t\t\t\tcollisionPosition: collisionPosition,\n\t\t\t\t\tcollisionWidth: collisionWidth,\n\t\t\t\t\tcollisionHeight: collisionHeight,\n\t\t\t\t\toffset: [ atOffset[ 0 ] + myOffset[ 0 ], atOffset [ 1 ] + myOffset[ 1 ] ],\n\t\t\t\t\tmy: options.my,\n\t\t\t\t\tat: options.at,\n\t\t\t\t\twithin: within,\n\t\t\t\t\telem: elem\n\t\t\t\t} );\n\t\t\t}\n\t\t} );\n\n\t\tif ( options.using ) {\n\n\t\t\t// Adds feedback as second argument to using callback, if present\n\t\t\tusing = function( props ) {\n\t\t\t\tvar left = targetOffset.left - position.left,\n\t\t\t\t\tright = left + targetWidth - elemWidth,\n\t\t\t\t\ttop = targetOffset.top - position.top,\n\t\t\t\t\tbottom = top + targetHeight - elemHeight,\n\t\t\t\t\tfeedback = {\n\t\t\t\t\t\ttarget: {\n\t\t\t\t\t\t\telement: target,\n\t\t\t\t\t\t\tleft: targetOffset.left,\n\t\t\t\t\t\t\ttop: targetOffset.top,\n\t\t\t\t\t\t\twidth: targetWidth,\n\t\t\t\t\t\t\theight: targetHeight\n\t\t\t\t\t\t},\n\t\t\t\t\t\telement: {\n\t\t\t\t\t\t\telement: elem,\n\t\t\t\t\t\t\tleft: position.left,\n\t\t\t\t\t\t\ttop: position.top,\n\t\t\t\t\t\t\twidth: elemWidth,\n\t\t\t\t\t\t\theight: elemHeight\n\t\t\t\t\t\t},\n\t\t\t\t\t\thorizontal: right < 0 ? \"left\" : left > 0 ? \"right\" : \"center\",\n\t\t\t\t\t\tvertical: bottom < 0 ? \"top\" : top > 0 ? \"bottom\" : \"middle\"\n\t\t\t\t\t};\n\t\t\t\tif ( targetWidth < elemWidth && abs( left + right ) < targetWidth ) {\n\t\t\t\t\tfeedback.horizontal = \"center\";\n\t\t\t\t}\n\t\t\t\tif ( targetHeight < elemHeight && abs( top + bottom ) < targetHeight ) {\n\t\t\t\t\tfeedback.vertical = \"middle\";\n\t\t\t\t}\n\t\t\t\tif ( max( abs( left ), abs( right ) ) > max( abs( top ), abs( bottom ) ) ) {\n\t\t\t\t\tfeedback.important = \"horizontal\";\n\t\t\t\t} else {\n\t\t\t\t\tfeedback.important = \"vertical\";\n\t\t\t\t}\n\t\t\t\toptions.using.call( this, props, feedback );\n\t\t\t};\n\t\t}\n\n\t\telem.offset( $.extend( position, { using: using } ) );\n\t} );\n};\n\n$.ui.position = {\n\tfit: {\n\t\tleft: function( position, data ) {\n\t\t\tvar within = data.within,\n\t\t\t\twithinOffset = within.isWindow ? within.scrollLeft : within.offset.left,\n\t\t\t\touterWidth = within.width,\n\t\t\t\tcollisionPosLeft = position.left - data.collisionPosition.marginLeft,\n\t\t\t\toverLeft = withinOffset - collisionPosLeft,\n\t\t\t\toverRight = collisionPosLeft + data.collisionWidth - outerWidth - withinOffset,\n\t\t\t\tnewOverRight;\n\n\t\t\t// Element is wider than within\n\t\t\tif ( data.collisionWidth > outerWidth ) {\n\n\t\t\t\t// Element is initially over the left side of within\n\t\t\t\tif ( overLeft > 0 && overRight <= 0 ) {\n\t\t\t\t\tnewOverRight = position.left + overLeft + data.collisionWidth - outerWidth -\n\t\t\t\t\t\twithinOffset;\n\t\t\t\t\tposition.left += overLeft - newOverRight;\n\n\t\t\t\t// Element is initially over right side of within\n\t\t\t\t} else if ( overRight > 0 && overLeft <= 0 ) {\n\t\t\t\t\tposition.left = withinOffset;\n\n\t\t\t\t// Element is initially over both left and right sides of within\n\t\t\t\t} else {\n\t\t\t\t\tif ( overLeft > overRight ) {\n\t\t\t\t\t\tposition.left = withinOffset + outerWidth - data.collisionWidth;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tposition.left = withinOffset;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t// Too far left -> align with left edge\n\t\t\t} else if ( overLeft > 0 ) {\n\t\t\t\tposition.left += overLeft;\n\n\t\t\t// Too far right -> align with right edge\n\t\t\t} else if ( overRight > 0 ) {\n\t\t\t\tposition.left -= overRight;\n\n\t\t\t// Adjust based on position and margin\n\t\t\t} else {\n\t\t\t\tposition.left = max( position.left - collisionPosLeft, position.left );\n\t\t\t}\n\t\t},\n\t\ttop: function( position, data ) {\n\t\t\tvar within = data.within,\n\t\t\t\twithinOffset = within.isWindow ? within.scrollTop : within.offset.top,\n\t\t\t\touterHeight = data.within.height,\n\t\t\t\tcollisionPosTop = position.top - data.collisionPosition.marginTop,\n\t\t\t\toverTop = withinOffset - collisionPosTop,\n\t\t\t\toverBottom = collisionPosTop + data.collisionHeight - outerHeight - withinOffset,\n\t\t\t\tnewOverBottom;\n\n\t\t\t// Element is taller than within\n\t\t\tif ( data.collisionHeight > outerHeight ) {\n\n\t\t\t\t// Element is initially over the top of within\n\t\t\t\tif ( overTop > 0 && overBottom <= 0 ) {\n\t\t\t\t\tnewOverBottom = position.top + overTop + data.collisionHeight - outerHeight -\n\t\t\t\t\t\twithinOffset;\n\t\t\t\t\tposition.top += overTop - newOverBottom;\n\n\t\t\t\t// Element is initially over bottom of within\n\t\t\t\t} else if ( overBottom > 0 && overTop <= 0 ) {\n\t\t\t\t\tposition.top = withinOffset;\n\n\t\t\t\t// Element is initially over both top and bottom of within\n\t\t\t\t} else {\n\t\t\t\t\tif ( overTop > overBottom ) {\n\t\t\t\t\t\tposition.top = withinOffset + outerHeight - data.collisionHeight;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tposition.top = withinOffset;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t// Too far up -> align with top\n\t\t\t} else if ( overTop > 0 ) {\n\t\t\t\tposition.top += overTop;\n\n\t\t\t// Too far down -> align with bottom edge\n\t\t\t} else if ( overBottom > 0 ) {\n\t\t\t\tposition.top -= overBottom;\n\n\t\t\t// Adjust based on position and margin\n\t\t\t} else {\n\t\t\t\tposition.top = max( position.top - collisionPosTop, position.top );\n\t\t\t}\n\t\t}\n\t},\n\tflip: {\n\t\tleft: function( position, data ) {\n\t\t\tvar within = data.within,\n\t\t\t\twithinOffset = within.offset.left + within.scrollLeft,\n\t\t\t\touterWidth = within.width,\n\t\t\t\toffsetLeft = within.isWindow ? within.scrollLeft : within.offset.left,\n\t\t\t\tcollisionPosLeft = position.left - data.collisionPosition.marginLeft,\n\t\t\t\toverLeft = collisionPosLeft - offsetLeft,\n\t\t\t\toverRight = collisionPosLeft + data.collisionWidth - outerWidth - offsetLeft,\n\t\t\t\tmyOffset = data.my[ 0 ] === \"left\" ?\n\t\t\t\t\t-data.elemWidth :\n\t\t\t\t\tdata.my[ 0 ] === \"right\" ?\n\t\t\t\t\t\tdata.elemWidth :\n\t\t\t\t\t\t0,\n\t\t\t\tatOffset = data.at[ 0 ] === \"left\" ?\n\t\t\t\t\tdata.targetWidth :\n\t\t\t\t\tdata.at[ 0 ] === \"right\" ?\n\t\t\t\t\t\t-data.targetWidth :\n\t\t\t\t\t\t0,\n\t\t\t\toffset = -2 * data.offset[ 0 ],\n\t\t\t\tnewOverRight,\n\t\t\t\tnewOverLeft;\n\n\t\t\tif ( overLeft < 0 ) {\n\t\t\t\tnewOverRight = position.left + myOffset + atOffset + offset + data.collisionWidth -\n\t\t\t\t\touterWidth - withinOffset;\n\t\t\t\tif ( newOverRight < 0 || newOverRight < abs( overLeft ) ) {\n\t\t\t\t\tposition.left += myOffset + atOffset + offset;\n\t\t\t\t}\n\t\t\t} else if ( overRight > 0 ) {\n\t\t\t\tnewOverLeft = position.left - data.collisionPosition.marginLeft + myOffset +\n\t\t\t\t\tatOffset + offset - offsetLeft;\n\t\t\t\tif ( newOverLeft > 0 || abs( newOverLeft ) < overRight ) {\n\t\t\t\t\tposition.left += myOffset + atOffset + offset;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\ttop: function( position, data ) {\n\t\t\tvar within = data.within,\n\t\t\t\twithinOffset = within.offset.top + within.scrollTop,\n\t\t\t\touterHeight = within.height,\n\t\t\t\toffsetTop = within.isWindow ? within.scrollTop : within.offset.top,\n\t\t\t\tcollisionPosTop = position.top - data.collisionPosition.marginTop,\n\t\t\t\toverTop = collisionPosTop - offsetTop,\n\t\t\t\toverBottom = collisionPosTop + data.collisionHeight - outerHeight - offsetTop,\n\t\t\t\ttop = data.my[ 1 ] === \"top\",\n\t\t\t\tmyOffset = top ?\n\t\t\t\t\t-data.elemHeight :\n\t\t\t\t\tdata.my[ 1 ] === \"bottom\" ?\n\t\t\t\t\t\tdata.elemHeight :\n\t\t\t\t\t\t0,\n\t\t\t\tatOffset = data.at[ 1 ] === \"top\" ?\n\t\t\t\t\tdata.targetHeight :\n\t\t\t\t\tdata.at[ 1 ] === \"bottom\" ?\n\t\t\t\t\t\t-data.targetHeight :\n\t\t\t\t\t\t0,\n\t\t\t\toffset = -2 * data.offset[ 1 ],\n\t\t\t\tnewOverTop,\n\t\t\t\tnewOverBottom;\n\t\t\tif ( overTop < 0 ) {\n\t\t\t\tnewOverBottom = position.top + myOffset + atOffset + offset + data.collisionHeight -\n\t\t\t\t\touterHeight - withinOffset;\n\t\t\t\tif ( newOverBottom < 0 || newOverBottom < abs( overTop ) ) {\n\t\t\t\t\tposition.top += myOffset + atOffset + offset;\n\t\t\t\t}\n\t\t\t} else if ( overBottom > 0 ) {\n\t\t\t\tnewOverTop = position.top - data.collisionPosition.marginTop + myOffset + atOffset +\n\t\t\t\t\toffset - offsetTop;\n\t\t\t\tif ( newOverTop > 0 || abs( newOverTop ) < overBottom ) {\n\t\t\t\t\tposition.top += myOffset + atOffset + offset;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\tflipfit: {\n\t\tleft: function() {\n\t\t\t$.ui.position.flip.left.apply( this, arguments );\n\t\t\t$.ui.position.fit.left.apply( this, arguments );\n\t\t},\n\t\ttop: function() {\n\t\t\t$.ui.position.flip.top.apply( this, arguments );\n\t\t\t$.ui.position.fit.top.apply( this, arguments );\n\t\t}\n\t}\n};\n\n} )();\n\nvar position = $.ui.position;\n\n\n\n\n}));","/**\n * Bootstrap Extra Utilities\n *   ... or, things you can't believe are not included out-of-the-box with JS\n *\n *   MIT Open-source License (https://github.com/powderflask/bootstrap_extras/blob/master/LICENSE)\n */\n\n// https://stackoverflow.com/a/18234317/1993525\nString.prototype.formatUnicorn = String.prototype.formatUnicorn ||\nfunction () {\n    \"use strict\";\n    var str = this.toString();\n    if (arguments.length) {\n        var t = typeof arguments[0];\n        var key;\n        var args = (\"string\" === t || \"number\" === t) ?\n            Array.prototype.slice.call(arguments)\n            : arguments[0];\n\n        for (key in args) {\n            str = str.replace(new RegExp(\"\\\\{\" + key + \"\\\\}\", \"gi\"), args[key]);\n        }\n    }\n\n    return str;\n};\n\nString.prototype.asTemplate = String.prototype.asTemplate ||\nfunction () {\n    \"use strict\";\n    var template = this.toString();\n\n    return function(args) {\n        return template.formatUnicorn(args);\n    };\n};\n\n// Return an object with property, el:name, for each el in extensions, where name = pre + this + sep + el\nString.prototype.buildNamesMap = String.prototype.buildNamesMap ||\nfunction (extentions, pre, sep) {\n  pre = pre || '';\n  sep = sep || '-';\n  var base = this;\n  function build(obj, key) {\n    obj[key] = pre+base+sep+key;\n    return obj;\n  }\n  var map = extentions.reduce(build, {});\n  map[base] = pre+base;\n  return map;\n};\n"]}